<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lesson Plan: Day 2 | CPSC-1517 Student Notes</title>
    <meta name="description" content="Introduction to Application Development">
    
    
    <link rel="preload" href="/assets/css/0.styles.59e31e97.css" as="style"><link rel="preload" href="/assets/js/app.3c61630d.js" as="script"><link rel="preload" href="/assets/js/30.e7c1b077.js" as="script"><link rel="prefetch" href="/assets/js/16.9d295476.js"><link rel="prefetch" href="/assets/js/2.bbec151d.js"><link rel="prefetch" href="/assets/js/3.e09abbf3.js"><link rel="prefetch" href="/assets/js/4.e279d630.js"><link rel="prefetch" href="/assets/js/5.813b6f65.js"><link rel="prefetch" href="/assets/js/6.20a9efa9.js"><link rel="prefetch" href="/assets/js/7.c8b0f87a.js"><link rel="prefetch" href="/assets/js/8.a316530e.js"><link rel="prefetch" href="/assets/js/9.a2c40bf6.js"><link rel="prefetch" href="/assets/js/10.7410af63.js"><link rel="prefetch" href="/assets/js/11.0f28868e.js"><link rel="prefetch" href="/assets/js/12.86a849b5.js"><link rel="prefetch" href="/assets/js/13.bf8097dd.js"><link rel="prefetch" href="/assets/js/14.cc353a5b.js"><link rel="prefetch" href="/assets/js/15.0d3f9bd2.js"><link rel="prefetch" href="/assets/js/17.d35e70ae.js"><link rel="prefetch" href="/assets/js/18.be80b5d5.js"><link rel="prefetch" href="/assets/js/19.50974892.js"><link rel="prefetch" href="/assets/js/20.94dcaf2c.js"><link rel="prefetch" href="/assets/js/21.5fe4d43d.js"><link rel="prefetch" href="/assets/js/22.7165634a.js"><link rel="prefetch" href="/assets/js/23.19cdcd0d.js"><link rel="prefetch" href="/assets/js/24.206b7645.js"><link rel="prefetch" href="/assets/js/25.67a4cfc9.js"><link rel="prefetch" href="/assets/js/26.03368f3a.js"><link rel="prefetch" href="/assets/js/27.b4b20a2c.js"><link rel="prefetch" href="/assets/js/28.0d62aa77.js"><link rel="prefetch" href="/assets/js/29.d4cb4284.js"><link rel="prefetch" href="/assets/js/31.c92071f0.js"><link rel="prefetch" href="/assets/js/32.d506deb3.js"><link rel="prefetch" href="/assets/js/33.a4732b6e.js"><link rel="prefetch" href="/assets/js/34.b9241456.js"><link rel="prefetch" href="/assets/js/35.6d846de8.js"><link rel="prefetch" href="/assets/js/36.9d2afda1.js"><link rel="prefetch" href="/assets/js/37.374dacae.js"><link rel="prefetch" href="/assets/js/38.a7128106.js"><link rel="prefetch" href="/assets/js/39.3cd4d06e.js"><link rel="prefetch" href="/assets/js/40.bb4b2edd.js"><link rel="prefetch" href="/assets/js/41.854269fc.js"><link rel="prefetch" href="/assets/js/42.ad6575b4.js"><link rel="prefetch" href="/assets/js/43.12423ac6.js"><link rel="prefetch" href="/assets/js/44.dc12cb44.js"><link rel="prefetch" href="/assets/js/45.35ad1d8f.js"><link rel="prefetch" href="/assets/js/46.6618b86c.js"><link rel="prefetch" href="/assets/js/47.044e87ef.js"><link rel="prefetch" href="/assets/js/48.95d03c29.js"><link rel="prefetch" href="/assets/js/49.bb3d917e.js"><link rel="prefetch" href="/assets/js/50.981e2308.js"><link rel="prefetch" href="/assets/js/51.738765c5.js"><link rel="prefetch" href="/assets/js/52.de02d944.js"><link rel="prefetch" href="/assets/js/53.1c210806.js"><link rel="prefetch" href="/assets/js/54.5b1cacf6.js"><link rel="prefetch" href="/assets/js/55.e3eae6f8.js"><link rel="prefetch" href="/assets/js/56.ee117f5d.js"><link rel="prefetch" href="/assets/js/57.ea2d9d5e.js"><link rel="prefetch" href="/assets/js/58.15b7f634.js"><link rel="prefetch" href="/assets/js/59.fb8f4d24.js"><link rel="prefetch" href="/assets/js/60.aaf7c216.js"><link rel="prefetch" href="/assets/js/61.a3354b66.js"><link rel="prefetch" href="/assets/js/62.f16d0154.js"><link rel="prefetch" href="/assets/js/63.d483a3b1.js"><link rel="prefetch" href="/assets/js/64.456a5cc0.js"><link rel="prefetch" href="/assets/js/65.ec2149ac.js"><link rel="prefetch" href="/assets/js/66.3b16b4dc.js"><link rel="prefetch" href="/assets/js/67.345b2f80.js"><link rel="prefetch" href="/assets/js/68.a7398009.js"><link rel="prefetch" href="/assets/js/69.d9d7cd6d.js"><link rel="prefetch" href="/assets/js/70.d87724e8.js"><link rel="prefetch" href="/assets/js/71.5e9b5524.js"><link rel="prefetch" href="/assets/js/72.31326e9f.js"><link rel="prefetch" href="/assets/js/73.cc3e7512.js"><link rel="prefetch" href="/assets/js/74.e2851211.js"><link rel="prefetch" href="/assets/js/75.b2e17069.js"><link rel="prefetch" href="/assets/js/76.743d2974.js"><link rel="prefetch" href="/assets/js/77.dc8c3561.js"><link rel="prefetch" href="/assets/js/78.58f8f038.js"><link rel="prefetch" href="/assets/js/79.92ee4294.js"><link rel="prefetch" href="/assets/js/80.095be42c.js"><link rel="prefetch" href="/assets/js/81.d48c66ce.js"><link rel="prefetch" href="/assets/js/82.2cb095e0.js"><link rel="prefetch" href="/assets/js/83.463f492a.js"><link rel="prefetch" href="/assets/js/84.98f55f78.js"><link rel="prefetch" href="/assets/js/85.0caa4399.js"><link rel="prefetch" href="/assets/js/86.4d19f7b9.js"><link rel="prefetch" href="/assets/js/87.bf13abb0.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.8832ec7c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.59e31e97.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      CPSC-1517 Student Notes
    </span></a><div class="links"><form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form><nav class="nav-links can-hide"><div class="nav-item"><a href="/about/" class="nav-link">Home</a></div><div class="nav-item"><a href="/logs/" class="nav-link">LOGs</a></div><div class="nav-item"><a href="/csharp/" class="nav-link">C-Sharp</a></div><div class="nav-item"><a href="/html/" class="nav-link">Html</a></div><div class="nav-item"><a href="/razor/" class="nav-link">Razor</a></div><div class="nav-item"><a href="/clientserver/" class="nav-link">Client-Server</a></div><div class="nav-item"><a href="/webforms/" class="nav-link">Webforms</a></div><div class="nav-item"><a href="https://cpsc-1517.github.io/LabSpecs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Lab Specs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/CPSC-1517/CPSC-1517.github.io/issues/new" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Issues/Bugs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://moodle.nait.ca" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Moodle
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/about/" class="nav-link">Home</a></div><div class="nav-item"><a href="/logs/" class="nav-link">LOGs</a></div><div class="nav-item"><a href="/csharp/" class="nav-link">C-Sharp</a></div><div class="nav-item"><a href="/html/" class="nav-link">Html</a></div><div class="nav-item"><a href="/razor/" class="nav-link">Razor</a></div><div class="nav-item"><a href="/clientserver/" class="nav-link">Client-Server</a></div><div class="nav-item"><a href="/webforms/" class="nav-link">Webforms</a></div><div class="nav-item"><a href="https://cpsc-1517.github.io/LabSpecs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Lab Specs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/CPSC-1517/CPSC-1517.github.io/issues/new" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Issues/Bugs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://moodle.nait.ca" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Moodle
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav><ul class="sidebar-links"><li><a href="/Instructor/" class="sidebar-link">Lesson Plan Overview</a></li></ul></div><div class="page"><div class="content"><p><strong>Objectives:</strong></p><p><strong>Discuss:</strong></p><blockquote><p>What is “filter” searching?</p></blockquote><blockquote><p>Why would one wish to use a filter search?</p></blockquote><blockquote><p>Different filter searching techniques. (Review Basic Search Techniques under<br>
Razor Forms and Database Queries)</p></blockquote><p><strong>Code:</strong></p><blockquote><p>BLL: Introduce the use of Views in sql as the data container for<br>
SqlQuery&lt;T&gt;().</p></blockquote><blockquote><p>PL: Use different controls to obtain the search filter and display the<br>
search data.</p></blockquote><p><strong>Resources: Student</strong></p><p>Moodle site.</p><ul><li><p>Search Techniques</p></li><li><p>Display Multiple Items in a GridView (tutorial)</p></li></ul><p><strong>Resources: Instructor</strong></p><p>Lesson 1: Review of filter search techniques first shown in Razor.</p><p><strong>Concepts:</strong></p><ol><li><p>Filter search Techniques</p></li><li><p>Why and When to use filter search techniques</p></li><li><p>Relate to Course Project</p></li><li><p>Optional Menu and MultiView</p></li></ol><p><strong>Class actions:</strong></p><p>Demo the FilterSearches.aspx page.</p><p>Menu and MultiView controls.</p><p>MultiView</p><p>&lt;asp:MultiView ID=&quot;MultiView1&quot; runat=&quot;server&quot; ActiveViewIndex=&quot;0&quot;&gt;</p><p>&lt;asp:View ID=&quot;View1&quot; runat=&quot;server&quot;&gt;</p><p>&lt;fieldset class=&quot;form-horizontal&quot;&gt;</p><p>&lt;legend&gt;Filter Queries: Dropdown List&lt;/legend&gt;</p><p>&lt;asp:Label ID=&quot;Label1&quot; runat=&quot;server&quot; Text=&quot;Categories:&quot;&gt;&lt;/asp:Label&gt;</p><p>&lt;asp:DropDownList ID=&quot;CategoryList&quot; runat=&quot;server&quot;</p><p>AutoPostBack=&quot;True&quot; OnSelectedIndexChanged=&quot;CategoryList_SelectedIndexChanged&quot;&gt;</p><p>&lt;/asp:DropDownList&gt;</p><p>&lt;br /&gt;&lt;br /&gt;</p><p>&lt;asp:GridView ID=&quot;ProductGridViewV1&quot; runat=&quot;server&quot;&gt;</p><p>&lt;/asp:GridView&gt;</p><p>&lt;/fieldset&gt;</p><p>&lt;/asp:View&gt;</p><p>&lt;asp:View ID=&quot;View2&quot; runat=&quot;server&quot;&gt;</p><ul><li>Repeat asp:View for each view tab</li></ul><p>&lt;/asp:View&gt;</p><p>&lt;/asp:MultiView&gt;</p><p><strong>Notes</strong></p><p>ActiveViewIndex=&quot;0&quot; Parameter indicates which view to show on the web page, set<br>
to the first view (index 0) when the page is first displayed. This parameter can<br>
be changed in your code behind to see the other views (see Menu).</p><p>&lt;asp:View ID=&quot;View1&quot; runat=&quot;server&quot;&gt; Starts a view. The view contains whatever<br>
controls you wish to use to create your display</p><p>AutoPostBack=&quot;True&quot; On the DropDownList means a button is not required. The<br>
event is activated if the selected item on the list is changed.</p><p>It is important to note that this is ALL one web page. The rules of unique names<br>
on a web page MUST be followed even though similar controls may exist in other<br>
views (example the GridView). You cannot reuse the same name. One simple<br>
solution is to add a string to the name to make it unique. This page adds Vn to<br>
the end of command named controls where n is the view number (1,2, etc) ex:<br>
ProductGridViewV1.</p><p><strong>Menu</strong></p><p>The Menu control is used to represent the tabs of the MultiView. The Menu is<br>
formatted using a custom CSS file. The event is used to switch between Views.</p><p><strong>CSS</strong></p><p>.tabs{</p><p>position:relative;</p><p>top:1px;</p><p>left:10px;</p><p>}</p><p>.tab{</p><p>border:solid 3px black;</p><p>background-color:white;</p><p>padding: 5px 10px;</p><p>}</p><p>.selectedTab {</p><p>background-color: white;</p><p>border-bottom:solid 3px white;</p><p>}</p><p>.tabContents {</p><p>border: solid 1px black;</p><p>padding: 10px;</p><p>background-color: white</p><p>}</p><p><strong>Menu control</strong></p><p>&lt;asp:Menu ID=&quot;Menu1&quot; runat=&quot;server&quot; Orientation=&quot;Horizontal&quot;</p><p>StaticMenuItemStyle-CssClass=&quot;tab&quot;</p><p>Font-Size=&quot;Large&quot; StaticSelectedStyle-CssClass=&quot;selectedTab&quot;</p><p>StaticMenuItemStyle-HorizontalPadding=&quot;50px&quot;</p><p>StaticSelectedStyle-BackColor=&quot;lightblue&quot;</p><p>CssClass=&quot;tabs&quot;</p><p>OnMenuItemClick=&quot;Menu1_MenuItemClick&quot;&gt;</p><p>&lt;Items&gt;</p><p>&lt;asp:MenuItem Text=&quot;DropDownList&quot; Selected=&quot;true&quot; Value=&quot;0&quot;&gt;&lt;/asp:MenuItem&gt;</p><p>&lt;asp:MenuItem Text=&quot;Textbox&quot; Value=&quot;1&quot;&gt;&lt;/asp:MenuItem&gt;</p><p>&lt;asp:MenuItem Text=&quot;MultiParameter&quot; Value=&quot;2&quot;&gt;&lt;/asp:MenuItem&gt;</p><p>&lt;asp:MenuItem Text=&quot;DrillDown&quot; Value=&quot;3&quot;&gt;&lt;/asp:MenuItem&gt;</p><p>&lt;asp:MenuItem Text=&quot;Exercise&quot; Value=&quot;4&quot;&gt;&lt;/asp:MenuItem&gt;</p><p>&lt;/Items&gt;</p><p>&lt;/asp:Menu&gt;</p><p>The Value parameter will be used by the event to set the ActiveviewIndex.</p><p><strong>Menu Event</strong></p><p>protected void Menu1_MenuItemClick(object sender, MenuEventArgs e)</p><p>{</p><p>int index = Int32.Parse(e.Item.Value);</p><p>MultiView1.ActiveViewIndex = index;</p><p>}</p><p>Demo different types of filters. Search Techniques document. Relate to course<br>
project.</p><p><strong>Using SQL Views</strong></p><p>There are times when your application may not need the complete entity class<br>
definition or the returned data does not match the entity class definition. Sql<br>
views are popular way of exposing data to a user so they are not directly<br>
touching the sql table. You can create a class that models the data returned by<br>
a View. This class will NOT have a DbSet() in the context class. It CAN be used<br>
as the datatype for a &lt;T&gt; collection.</p><p>This page has 2 Views:</p><p>EmployeeOfTerritory (demo page DrillDown)</p><p>//this is not a database table (entity)</p><p>//this is a definition of a database view, DO NOT create a DbSet&lt;&gt; for this<br>
class</p><p>public class EmployeeOfTerritory</p><p>{</p><p>public string TerritoryID { get; set; }</p><p>public int EmployeeID { get; set; }</p><p>public string FirstName { get; set; }</p><p>public string LastName { get; set; }</p><p>public string Address { get; set; }</p><p>public string City { get; set; }</p><p>public string PostalCode { get; set; }</p><p>public string HomePhone { get; set; }</p><p>public string Extension { get; set; }</p><p>[NotMapped]</p><p>public string FullName</p><p>{</p><p>get</p><p>{</p><p>return LastName + &quot;, &quot; + FirstName;</p><p>}</p><p>}</p><p>}</p><p>SupplierCategories (Exercise view).</p><p>public class SupplierCategories</p><p>{</p><p>public int CategoryID {get;set;}</p><p>public string CategoryName { get; set; }</p><p>}</p><p><strong>Exercise View</strong></p><p>This is for the student to do as a class exercise. It is not for marks.</p><p>Solution:</p><p>&lt;asp:View ID=&quot;View5&quot; runat=&quot;server&quot;&gt;</p><p>&lt;fieldset class=&quot;form-horizontal&quot;&gt;</p><p>&lt;legend&gt;Filter Queries: Exercise&lt;/legend&gt;</p><p>&lt;blockquote style=&quot;font-size:x-large&quot;&gt;</p><p>For this exercise (not for marks) you are to retrieve the products</p><p>from a supplier's category and display the product(s) records. You need to</p><p>create the necessary controller methods, design your form, and implement</p><p>the necessary code-behind. The following resources are available for this<br>
exercise:</p><p>&lt;ul&gt;</p><p>&lt;li&gt;Sql procedure &lt;strong&gt; Suppliers_GetCategories&lt;/strong&gt;: returns the<br>
supplier's categories&lt;/li&gt;</p><p>&lt;li&gt;Sql procedure &lt;strong&gt;Products_GetForSupplierCategory&lt;/strong&gt;:<br>
returns<br>
products for a supplier category&lt;/li&gt;</p><p>&lt;li&gt;Entities and Views: &lt;strong&gt;Product, Supplier, SupplierCategories<br>
&lt;/strong&gt;&lt;/li&gt;</p><p>&lt;/ul&gt;</p><p>&lt;/blockquote&gt;</p><p>&lt;asp:Label ID=&quot;Label7&quot; runat=&quot;server&quot; Text=&quot;Supplier:&quot;&gt;&lt;/asp:Label&gt;</p><p>&lt;asp:DropDownList ID=&quot;SupplierListV5&quot; runat=&quot;server&quot;&gt;&lt;/asp:DropDownList&gt;</p><p>&lt;asp:Button ID=&quot;FindCategories&quot; runat=&quot;server&quot; Text=&quot;Categories?&quot;<br>
OnClick=&quot;FindCategories_Click&quot; /&gt;</p><p>&lt;asp:Label ID=&quot;label8&quot; runat=&quot;server&quot; Text=&quot;Categories:&quot;&gt;&lt;/asp:Label&gt;</p><p>&lt;asp:DropDownList ID=&quot;CategoryListV5&quot; runat=&quot;server&quot;&gt;&lt;/asp:DropDownList&gt;</p><p>&lt;asp:Button ID=&quot;FindSupplierCategoryProducts&quot; runat=&quot;server&quot; Text=&quot;Products?&quot;</p><p>OnClick=&quot;FindSupplierCategoryProducts_Click&quot; Enabled=&quot;false&quot; /&gt;</p><p>&lt;asp:Button ID=&quot;Reset&quot; runat=&quot;server&quot; Text=&quot;Reset&quot; OnClick=&quot;Reset_Click&quot; /&gt;</p><p>&lt;br /&gt;</p><p>&lt;br /&gt;</p><p>&lt;asp:GridView ID=&quot;ProductsGridViewV5&quot; runat=&quot;server&quot;&gt;</p><p>&lt;/asp:GridView&gt;</p><p>&lt;/fieldset&gt;</p><p>&lt;/asp:View&gt;</p><p>protected void FindCategories_Click(object sender, EventArgs e)</p><p>{</p><p>if (SupplierListV5.SelectedIndex == 0)</p><p>{</p><p>errormsgs.Add(&quot;Select a supplier to obtain their categories.&quot;);</p><p>LoadMessageDisplay(errormsgs, &quot;alert alert-info&quot;);</p><p>CategoryListV5.Items.Clear();</p><p>ProductsGridViewV5.DataSource = null;</p><p>ProductsGridViewV5.DataBind();</p><p>}</p><p>else</p><p>{</p><p>try</p><p>{</p><p>SupplierController sysmgr = new SupplierController();</p><p>List&lt;SupplierCategories&gt; info =<br>
sysmgr.Suppliers_GetCategories(int.Parse(SupplierListV5.SelectedValue));</p><p>if (info.Count == 0)</p><p>{</p><p>errormsgs.Add(&quot;No category data found for the supplier&quot;);</p><p>LoadMessageDisplay(errormsgs, &quot;alert alert-info&quot;);</p><p>CategoryListV5.Items.Clear();</p><p>CategoryListV5.DataBind();</p><p>ProductsGridViewV5.DataSource = null;</p><p>ProductsGridViewV5.DataBind();</p><p>}</p><p>else</p><p>{</p><p>info.Sort((x, y) =&gt; x.CategoryName.CompareTo(y.CategoryName));</p><blockquote><p>//Second Dropdown list drill down</p></blockquote><p>CategoryListV5.DataSource = info;</p><p>CategoryListV5.DataTextField = nameof(SupplierCategories.CategoryName);</p><p>CategoryListV5.DataValueField = nameof(SupplierCategories.CategoryID);</p><p>CategoryListV5.DataBind();</p><p>CategoryListV5.Items.Insert(0, &quot;select....&quot;);</p><p>//GridView</p><p>ProductsGridViewV5.DataSource = null;</p><p>ProductsGridViewV5.DataBind();</p><p>SupplierListV5.Enabled = false;</p><p>FindSupplierCategoryProducts.Enabled = true;</p><p>}</p><p>}</p><p>catch (Exception ex)</p><p>{</p><p>errormsgs.Add(GetInnerException(ex).ToString());</p><p>LoadMessageDisplay(errormsgs, &quot;alert alert-danger&quot;);</p><p>}</p><p>}</p><p>}</p><p>protected void FindSupplierCategoryProducts_Click(object sender, EventArgs e)</p><p>{</p><p>if (CategoryListV5.SelectedIndex == 0)</p><p>{</p><p>errormsgs.Add(&quot;Select a category to view the supplier's category products.&quot;);</p><p>LoadMessageDisplay(errormsgs, &quot;alert alert-info&quot;);</p><p>ProductsGridViewV5.DataSource = null;</p><p>ProductsGridViewV5.DataBind();</p><p>}</p><p>else</p><p>{</p><p>try</p><p>{</p><p>ProductController sysmgr = new ProductController();</p><p>List&lt;Product&gt; info = sysmgr.Products_GetForSupplierCategory(</p><p>int.Parse(SupplierListV5.SelectedValue),</p><p>int.Parse(CategoryListV5.SelectedValue));</p><p>if (info.Count == 0)</p><p>{</p><p>errormsgs.Add(&quot;No data found for the supplier's category&quot;);</p><p>LoadMessageDisplay(errormsgs, &quot;alert alert-info&quot;);</p><p>ProductsGridViewV5.DataSource = null;</p><p>ProductsGridViewV5.DataBind();</p><p>}</p><p>else</p><p>{</p><p>info.Sort((x, y) =&gt; x.ProductName.CompareTo(y.ProductName));</p><p>//GridView</p><p>ProductsGridViewV5.DataSource = info;</p><p>ProductsGridViewV5.DataBind();</p><p>}</p><p>}</p><p>catch (Exception ex)</p><p>{</p><p>errormsgs.Add(GetInnerException(ex).ToString());</p><p>LoadMessageDisplay(errormsgs, &quot;alert alert-danger&quot;);</p><p>}</p><p>}</p><p>}</p><p>protected void Reset_Click(object sender, EventArgs e)</p><p>{</p><p>SupplierListV5.Enabled = true;</p><p>CategoryListV5.Items.Clear();</p><p>FindSupplierCategoryProducts.Enabled = false;</p><p>//GridView</p><p>ProductsGridViewV5.DataSource = null;</p><p>ProductsGridViewV5.DataBind();</p><p>}</p><p>SupplierController</p><p>public List&lt;SupplierCategories&gt; Suppliers_GetCategories(int suppilerid)</p><p>{</p><p>using (var context = new NorthwindContext())</p><p>{</p><p>IEnumerable&lt;SupplierCategories&gt; results =<br>
context.Database.SqlQuery&lt;SupplierCategories&gt;(<br>
&quot;Suppliers_GetCategories @SupplierID&quot;,</p><p>new SqlParameter(&quot;SupplierID&quot;, suppilerid));</p><p>return results.ToList();</p><p>}</p><p>}</p><p>ProductController</p><p>public List&lt;Product&gt; Products_GetForSupplierCategory(int supplierid, int<br>
categoryid)</p><p>{</p><p>using (var context = new NorthwindContext())</p><p>{</p><p>IEnumerable&lt;Product&gt; results =</p><p>context.Database.SqlQuery&lt;Product&gt;(<br>
&quot;Products_GetForSupplierCategory @SupplierID, @CategoryID&quot;,</p><p>new SqlParameter(&quot;SupplierID&quot;, supplierid),</p><p>new SqlParameter(&quot;CategoryID&quot;, categoryid));</p><p>return results.ToList();</p><p>}</p><p>}</p></div><div class="page-edit"><!----><!----></div><!----></div></div></div>
    <script src="/assets/js/30.e7c1b077.js" defer></script><script src="/assets/js/app.3c61630d.js" defer></script>
  </body>
</html>
