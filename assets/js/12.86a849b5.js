(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{168:function(e,t,a){e.exports=a.p+"assets/img/cf9873f5d3535edced8f9ae1778650b3.cf9873f5.png"},262:function(e,t,a){"use strict";a.r(t);var o=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"content"},[o("p",[o("strong",[e._v("Objectives:")])]),o("p",[o("strong",[e._v("Discuss:")])]),o("blockquote",[o("p",[e._v("Validation of input data on the form.")])]),o("p",[o("strong",[e._v("Code:")])]),o("blockquote",[o("p",[e._v("Using Validator controls")])]),o("p",[o("strong",[e._v("Resources: Student")])]),o("p",[e._v("Moodle site.")]),o("p",[e._v("URL Student Notes")]),o("p",[e._v("URL HTML5 (sitepoint)")]),o("p",[e._v("URL HTML5 (developer.mozilla)")]),o("p",[e._v("URL Validator controls (mikesdotnetting)")]),o("p",[o("strong",[e._v("Resources: Instructor")])]),o("p",[e._v("Lesson 3: CRUD Insert using validation.")]),o("p",[o("strong",[e._v("Concepts:")])]),o("ol",[o("li",[o("p",[e._v("HTML5 features (type=, step/min/max, required)")])]),o("li",[o("p",[e._v("Using various techniques for Validator Controls and IsValid in processing")])])]),o("p",[o("strong",[e._v("Discuss need to validate incoming data")]),e._v(".")]),o("p",[e._v("It is assumed that any data on a database “should” be valid. However, this is"),o("br"),e._v("\nnot always the case. If you have run into an example in your career, talk about"),o("br"),e._v("\nit.")]),o("p",[e._v("Here is one of mine. Alberta Health Care, 1982. I (Don Welch) received a"),o("br"),e._v("\nsequential copy of the database for a project/system. The data was suppose to be"),o("br"),e._v("\nvalid. There were problems using the data with the supplied data field"),o("br"),e._v("\ndescriptions. One field (Sex) was to have 4 codes M (male), F (female), B (male"),o("br"),e._v("\n16 and under) and G (female 16 and under). This field had ?, !, empty, all kinds"),o("br"),e._v("\nof errors. An edit of the data was performed and a print out of width 3 inches"),o("br"),e._v("\nwas created. Obviously, there was problems with the validity of the data. There"),o("br"),e._v("\nwere over 2.3 million records in this file.")]),o("p",[o("img",{attrs:{src:a(168),alt:""}})]),o("p",[o("strong",[e._v("Coding: Validator Controls")])]),o("ul",[o("li",[o("p",[e._v("Validation.Add(controlname,Validator.xxxx(attributes)[,"),o("br"),e._v("\nValidator.xxxx(attributes),…]).")])]),o("li",[o("p",[e._v("Can have multiple Validators per control.")])]),o("li",[o("p",[e._v(".xxxx is validator type and (attributes) vary depending on validator type"),o("br"),e._v("\nbut will always allow for an error message as one of the attributes.")]),o("ul",[o("li",[o("p",[e._v("DateTime(“error msg”)")])]),o("li",[o("p",[e._v("Decimal(“error msg”)")])]),o("li",[o("p",[e._v("EqualsTo(“another controlname”, “error msg”)")])]),o("li",[o("p",[e._v("Float(“error msg”)")])]),o("li",[o("p",[e._v("Integer(“error msg”)")])]),o("li",[o("p",[e._v("Range(double min, double max, ”error mgs”)")])]),o("li",[o("p",[e._v("Regex(expression,”error msg”)")])]),o("li",[o("p",[e._v("Required(“error msg”)")])]),o("li",[o("p",[e._v("StringLength(max,min,”error mgs”)")])]),o("li",[o("p",[e._v("Url(“error msg”)")])])])]),o("li",[o("p",[e._v("I normally place the Validation code in the opening coding block.")])]),o("li",[o("p",[e._v("Validator controls do not “fire” unless there is data within the control,"),o("br"),e._v("\nexception .Required()")])]),o("li",[o("p",[e._v("Validator controls “fire” when the Validation.IsValid() method is executed"),o("br"),e._v("\nduring your processing logic on the server side. HTML5 validation occurs on"),o("br"),e._v("\nthe client side.")])]),o("li",[o("p",[e._v("Order of validator definition does not matter")])]),o("li",[o("p",[e._v("Range validator min and max values must be doubles but the data itself can"),o("br"),e._v("\nbe integer or decimal or double. You can also use double.MinValue or"),o("br"),e._v("\ndouble.MaxValue.")])])]),o("p",[e._v("//these validator controls execute on the server side")]),o("p",[e._v('Validation.Add("ProductName",')]),o("p",[e._v('Validator.Required("Product Name is a required field"),')]),o("p",[e._v('Validator.StringLength(40, 1, "Product Name is limited to 40 characters"));')]),o("p",[e._v("//minimum length of QuantityPerUnit is zero (0) since it is not a required field")]),o("p",[e._v('Validation.Add("QuantityPerUnit",')]),o("p",[e._v('Validator.StringLength(20, 0, "Qty/Uniy is limited to 20 characters"));')]),o("p",[e._v('Validation.Add("UnitPrice",')]),o("p",[e._v('Validator.Range(0.0, double.MaxValue, "Unit Price must be greater than 0.00"));')]),o("p",[e._v('Validation.Add("UnitsInStock",')]),o("p",[e._v('Validator.Range(0.0, 32767.0, "QOH must be between 0 and 32,767"));')]),o("p",[e._v('Validation.Add("UnitsOnOrder",')]),o("p",[e._v('Validator.Range(0.0, 32767.0, "QOO must be between 0 and 32,767"));')]),o("p",[e._v('Validation.Add("ReorderLevel",')]),o("p",[e._v('Validator.Range(0.0, 32767.0, "ROL must be between 0 and 32,767"));')]),o("p",[e._v("//sample of using .EqualsTo() which compares two fields.")]),o("p",[e._v('//Validation.Add("PassWord",')]),o("p",[e._v('// Validator.EqualsTo("ConfirmPassWord", "Password invalid confirmation"));')]),o("p",[e._v("//this is just an example of using .Regex() validator")]),o("p",[e._v('//Validation.Add("PostalCode",')]),o("p",[e._v('// Validator.Regex(@"^[A-Za-z][0-9][A-Za-z][0-9][A-Za-z][0-9]$","Postal Code'),o("br"),e._v('\nhas invalid format (T6Y7U8)"));')]),o("p",[o("strong",[e._v("Coding: Update Form")])]),o("ul",[o("li",[o("p",[e._v("Display of errors can be done in a summary; @Html.ValidationSummary()")])]),o("li",[o("p",[e._v('or with the input control @Html.ValidationMessage("controlname")')])])]),o("blockquote",[o("p",[e._v("@* you can display your error message in a summary group")])]),o("blockquote",[o("p",[e._v("the default display is a bulleted list")])]),o("blockquote",[o("p",[e._v("all associated messages for validations are displayed *@")])]),o("blockquote",[o("p",[e._v("@Html.ValidationSummary()")])]),o("blockquote",[o("p",[e._v('<form id="theform" action="" method="post">.')])]),o("blockquote",[o("p",[e._v("Or")])]),o("p",[e._v("@* error message can be display any where such as")]),o("p",[e._v("beside the field that is in error *@")]),o("p",[e._v('<input type="text" name="ProductName" id="ProductName"')]),o("p",[e._v('value="@productname" />')]),o("p",[e._v('@Html.ValidationMessage("ProductName")')]),o("blockquote",[o("p",[e._v("<br/>")])]),o("p",[o("strong",[e._v("Coding: Update Processing")])]),o("p",[e._v("To have the Validation controls fire, on the client side you need to execute the"),o("br"),e._v("\nmethod Validation.IsValid(). This method returns a true or false. If there are"),o("br"),e._v("\nerrors with the data, the error messages associated with the validation will"),o("br"),e._v("\nautomatically be generated and display for you. There is no need for an “else”"),o("br"),e._v("\non this test. We will still want to retain data that has already been entered on"),o("br"),e._v("\nthe form, thus the validation test is after the retrieval of the raw data from"),o("br"),e._v("\nthe input controls. The test is done before any attempt at conversion from the"),o("br"),e._v("\ndefault string input to any other datatype.")]),o("p",[e._v('reorderlevel = Request.Form["ReorderLevel"];')]),o("p",[e._v('discontinued = Request.Form["Discontinued"];')]),o("p",[e._v("if (Validation.IsValid())")]),o("p",[e._v("{")]),o("p",[e._v("Do the rest of your processing")]),o("p",[e._v("}")]),o("p",[o("strong",[e._v("Coding: Logic processing validation")])]),o("p",[e._v("There are times when using validation controls or HTML5 validation just does not"),o("br"),e._v("\nmeasure up to the task. An example is ensuring a selection has been made from a"),o("br"),e._v("\ndropdownlist that contains a prompt line. This situation can be handled with"),o("br"),e._v("\nlogic.")]),o("p",[e._v("The supplier and category are nullable fields on the sql table. We can handle"),o("br"),e._v("\nthis by testing for the prompt line and submitting a null value in its place (as"),o("br"),e._v("\nwe have done Lesson 2). However, if we "),o("em",[e._v("assume")]),e._v(" that these fields "),o("em",[e._v("were"),o("br"),e._v("\nrequired")]),e._v(", then we could test the list’s selected value programmability. Lets"),o("br"),e._v("\nsee how the web page code would change "),o("strong",[e._v("if")]),e._v(" this logic testing was included.")]),o("p",[e._v("if (Validation.IsValid())")]),o("p",[e._v("{")]),o("p",[e._v('if (selectedsupplier.Equals("0"))')]),o("p",[e._v("{")]),o("p",[e._v('<p class="col-sm-11 text-center"><span style="color:firebrick"><strong>'),o("br"),e._v("\nPlease select a supplier</strong></span></p>")]),o("p",[e._v("}")]),o("p",[e._v('else if (selectedcategory.Equals("0"))')]),o("p",[e._v("{")]),o("p",[e._v('<p class="col-sm-11 text-center"><span style="color:firebrick"><strong>'),o("br"),e._v("\nPlease select a category</strong></span></p>")]),o("p",[e._v("}")]),o("p",[e._v("else")]),o("p",[e._v("{")]),o("p",[e._v("try")]),o("p",[e._v("{ …")])])}],i=a(0),r=Object(i.a)({},function(){this.$createElement;this._self._c;return this._m(0)},o,!1,null,null,null);r.options.__file="lesson-3.md";t.default=r.exports}}]);