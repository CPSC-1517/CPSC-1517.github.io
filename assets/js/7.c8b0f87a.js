(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{257:function(e,t,a){"use strict";a.r(t);var r=a(0),s=Object(r.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("p",[a("strong",[e._v("Coding: Update WebPage general error handling")]),e._v(":")]),a("p",[e._v("Update the way we can handle and display error messages. This will enable your"),a("br"),e._v("\nwebpage to nicely handle various types of errors whether they are generated from"),a("br"),e._v("\nyour code, entity annotations for EntityFramework or system errors. The key to"),a("br"),e._v("\nthis is each error is treated as a single string. Each error is loaded to a"),a("br"),e._v("\nglobal List<string>. The list is then passed to a display method along with"),a("br"),e._v("\nthe appropriate bootstrap css alert.")]),a("p",[a("strong",[e._v("Coding: Update current WebPage: Form")])]),a("p",[e._v("Replace:")]),a("p",[e._v('<asp:Label ID="Message" runat="server" ></asp:Label>')]),a("p",[e._v("With:")]),a("p",[e._v('<asp:DataList ID="Message" runat="server">')]),a("p",[e._v("<ItemTemplate>")]),a("p",[e._v("<%# Container.DataItem %>")]),a("p",[e._v("</ItemTemplate>")]),a("p",[e._v("</asp:DataList>")]),a("p",[a("strong",[e._v("Coding: Update current WebPage: Code-Behind")])]),a("p",[e._v("Add: List<string> and replace clearing of Message control")]),a("p",[e._v("List<string> errormsgs = new List<string>();")]),a("p",[e._v("protected void Page_Load(object sender, EventArgs e)")]),a("p",[e._v("{")]),a("p",[e._v("Message.DataSource = null;")]),a("p",[e._v("Message.DataBind();")]),a("p",[e._v("if (!Page.IsPostBack)")]),a("p",[e._v("{")]),a("p",[e._v("BindProductList();")]),a("p",[e._v("BindSupplierList();")]),a("p",[e._v("BindCategoryList();")]),a("p",[e._v("}")]),a("p",[e._v("}")]),a("p",[e._v("Replace: All")]),a("p",[e._v("catch (Exception ex)")]),a("p",[e._v("{")]),a("p",[e._v("Message.Text = GetInnerException(ex).Message.ToString();")]),a("p",[e._v("}")]),a("p",[e._v("With:")]),a("p",[e._v("catch (Exception ex)")]),a("p",[e._v("{")]),a("p",[e._v("errormsgs.Add(GetInnerException(ex).ToString());")]),a("p",[e._v('LoadMessageDisplay(errormsgs, "alert alert-danger");')]),a("p",[e._v("}")]),a("p",[e._v("Replace: All user type messages")]),a("p",[e._v('Message.Text = "Please select a product for the search";')]),a("p",[e._v("With:")]),a("p",[e._v('errormsgs.Add("Please select a product for the search");')]),a("p",[e._v('LoadMessageDisplay(errormsgs, "alert alert-warning");')]),a("p",[a("strong",[e._v("Coding: ADD WebPage general method for displaying errors")]),e._v(":")]),a("p",[e._v("//use this method to load a DataList with a variable")]),a("p",[e._v("//number of message lines.")]),a("p",[e._v("//each line is a string")]),a("p",[e._v("//the strings (lines) are passed to this routine in")]),a("p",[e._v("// a List<string>")]),a("p",[e._v("//second parameter is the bootstrap cssclass")]),a("p",[e._v("protected void LoadMessageDisplay(List<string> errormsglist, string cssclass)")]),a("p",[e._v("{")]),a("p",[e._v("Message.CssClass = cssclass;")]),a("p",[e._v("Message.DataSource = errormsglist;")]),a("p",[e._v("Message.DataBind();")]),a("p",[e._v("}")]),a("p",[a("strong",[e._v("Coding: Different Exception Catches")])]),a("p",[e._v("Controller EntityFramework execution catch:")]),a("p",[e._v("Namespaces:")]),a("p",[e._v("using System.Data.Entity.Infrastructure;")]),a("p",[e._v("using System.Data.Entity.Core;")]),a("p",[e._v("catch (DbUpdateException ex)")]),a("p",[e._v("{")]),a("p",[e._v("UpdateException updateException = (UpdateException)ex.InnerException;")]),a("p",[e._v("if (updateException.InnerException != null)")]),a("p",[e._v("{")]),a("p",[e._v("errormsgs.Add(updateException.InnerException.Message.ToString());")]),a("p",[e._v("}")]),a("p",[e._v("else")]),a("p",[e._v("{")]),a("p",[e._v("errormsgs.Add(updateException.Message);")]),a("p",[e._v("}")]),a("p",[e._v('LoadMessageDisplay(errormsgs, "alert alert-danger");')]),a("p",[e._v("}")]),a("p",[e._v("Controller EntityFramework entity Validation catch:")]),a("p",[e._v("Namespace:")]),a("p",[e._v("using System.Data.Entity.Validation;")]),a("p",[e._v("catch (DbEntityValidationException ex)")]),a("p",[e._v("{")]),a("p",[e._v("foreach (var entityValidationErrors in ex.EntityValidationErrors)")]),a("p",[e._v("{")]),a("p",[e._v("foreach (var validationError in entityValidationErrors.ValidationErrors)")]),a("p",[e._v("{")]),a("p",[e._v('errormsgs.Add("Error: " + validationError.ErrorMessage);')]),a("p",[e._v("}")]),a("p",[e._v("}")]),a("p",[e._v('LoadMessageDisplay(errormsgs, "alert alert-danger");')]),a("p",[e._v("}")])])}],!1,null,null,null);s.options.__file="displayErrorsInDataList.md";t.default=s.exports}}]);