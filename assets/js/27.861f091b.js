(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{360:function(e,t,a){e.exports=a.p+"assets/img/cf9873f5d3535edced8f9ae1778650b3.cf9873f5.png"},437:function(e,t,a){"use strict";a.r(t);var o=a(42),i=Object(o.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("p",[o("strong",[e._v("Objectives:")])]),e._v(" "),o("p",[o("strong",[e._v("Discuss:")])]),e._v(" "),o("blockquote",[o("p",[e._v("Validation of input data on the form.")])]),e._v(" "),o("p",[o("strong",[e._v("Code:")])]),e._v(" "),o("blockquote",[o("p",[e._v("Using Validator controls")])]),e._v(" "),o("p",[o("strong",[e._v("Resources: Student")])]),e._v(" "),o("p",[e._v("Moodle site.")]),e._v(" "),o("p",[e._v("URL Student Notes")]),e._v(" "),o("p",[e._v("URL HTML5 (sitepoint)")]),e._v(" "),o("p",[e._v("URL HTML5 (developer.mozilla)")]),e._v(" "),o("p",[e._v("URL Validator controls (mikesdotnetting)")]),e._v(" "),o("p",[o("strong",[e._v("Resources: Instructor")])]),e._v(" "),o("p",[e._v("Lesson 3: CRUD Insert using validation.")]),e._v(" "),o("p",[o("strong",[e._v("Concepts:")])]),e._v(" "),o("ol",[o("li",[o("p",[e._v("HTML5 features (type=, step/min/max, required)")])]),e._v(" "),o("li",[o("p",[e._v("Using various techniques for Validator Controls and IsValid in processing")])])]),e._v(" "),o("p",[o("strong",[e._v("Discuss need to validate incoming data")]),e._v(".")]),e._v(" "),o("p",[e._v("It is assumed that any data on a database “should” be valid. However, this is\nnot always the case. If you have run into an example in your career, talk about\nit.")]),e._v(" "),o("p",[e._v("Here is one of mine. Alberta Health Care, 1982. I (Don Welch) received a\nsequential copy of the database for a project/system. The data was suppose to be\nvalid. There were problems using the data with the supplied data field\ndescriptions. One field (Sex) was to have 4 codes M (male), F (female), B (male\n16 and under) and G (female 16 and under). This field had ?, !, empty, all kinds\nof errors. An edit of the data was performed and a print out of width 3 inches\nwas created. Obviously, there was problems with the validity of the data. There\nwere over 2.3 million records in this file.")]),e._v(" "),o("p",[o("img",{attrs:{src:a(360),alt:""}})]),e._v(" "),o("p",[o("strong",[e._v("Coding: Validator Controls")])]),e._v(" "),o("ul",[o("li",[o("p",[e._v("Validation.Add(controlname,Validator.xxxx(attributes)[,\nValidator.xxxx(attributes),…]).")])]),e._v(" "),o("li",[o("p",[e._v("Can have multiple Validators per control.")])]),e._v(" "),o("li",[o("p",[e._v(".xxxx is validator type and (attributes) vary depending on validator type\nbut will always allow for an error message as one of the attributes.")]),e._v(" "),o("ul",[o("li",[o("p",[e._v("DateTime(“error msg”)")])]),e._v(" "),o("li",[o("p",[e._v("Decimal(“error msg”)")])]),e._v(" "),o("li",[o("p",[e._v("EqualsTo(“another controlname”, “error msg”)")])]),e._v(" "),o("li",[o("p",[e._v("Float(“error msg”)")])]),e._v(" "),o("li",[o("p",[e._v("Integer(“error msg”)")])]),e._v(" "),o("li",[o("p",[e._v("Range(double min, double max, ”error mgs”)")])]),e._v(" "),o("li",[o("p",[e._v("Regex(expression,”error msg”)")])]),e._v(" "),o("li",[o("p",[e._v("Required(“error msg”)")])]),e._v(" "),o("li",[o("p",[e._v("StringLength(max,min,”error mgs”)")])]),e._v(" "),o("li",[o("p",[e._v("Url(“error msg”)")])])])]),e._v(" "),o("li",[o("p",[e._v("I normally place the Validation code in the opening coding block.")])]),e._v(" "),o("li",[o("p",[e._v("Validator controls do not “fire” unless there is data within the control,\nexception .Required()")])]),e._v(" "),o("li",[o("p",[e._v("Validator controls “fire” when the Validation.IsValid() method is executed\nduring your processing logic on the server side. HTML5 validation occurs on\nthe client side.")])]),e._v(" "),o("li",[o("p",[e._v("Order of validator definition does not matter")])]),e._v(" "),o("li",[o("p",[e._v("Range validator min and max values must be doubles but the data itself can\nbe integer or decimal or double. You can also use double.MinValue or\ndouble.MaxValue.")])])]),e._v(" "),o("p",[e._v("//these validator controls execute on the server side")]),e._v(" "),o("p",[e._v('Validation.Add("ProductName",')]),e._v(" "),o("p",[e._v('Validator.Required("Product Name is a required field"),')]),e._v(" "),o("p",[e._v('Validator.StringLength(40, 1, "Product Name is limited to 40 characters"));')]),e._v(" "),o("p",[e._v("//minimum length of QuantityPerUnit is zero (0) since it is not a required field")]),e._v(" "),o("p",[e._v('Validation.Add("QuantityPerUnit",')]),e._v(" "),o("p",[e._v('Validator.StringLength(20, 0, "Qty/Uniy is limited to 20 characters"));')]),e._v(" "),o("p",[e._v('Validation.Add("UnitPrice",')]),e._v(" "),o("p",[e._v('Validator.Range(0.0, double.MaxValue, "Unit Price must be greater than 0.00"));')]),e._v(" "),o("p",[e._v('Validation.Add("UnitsInStock",')]),e._v(" "),o("p",[e._v('Validator.Range(0.0, 32767.0, "QOH must be between 0 and 32,767"));')]),e._v(" "),o("p",[e._v('Validation.Add("UnitsOnOrder",')]),e._v(" "),o("p",[e._v('Validator.Range(0.0, 32767.0, "QOO must be between 0 and 32,767"));')]),e._v(" "),o("p",[e._v('Validation.Add("ReorderLevel",')]),e._v(" "),o("p",[e._v('Validator.Range(0.0, 32767.0, "ROL must be between 0 and 32,767"));')]),e._v(" "),o("p",[e._v("//sample of using .EqualsTo() which compares two fields.")]),e._v(" "),o("p",[e._v('//Validation.Add("PassWord",')]),e._v(" "),o("p",[e._v('// Validator.EqualsTo("ConfirmPassWord", "Password invalid confirmation"));')]),e._v(" "),o("p",[e._v("//this is just an example of using .Regex() validator")]),e._v(" "),o("p",[e._v('//Validation.Add("PostalCode",')]),e._v(" "),o("p",[e._v('// Validator.Regex(@"^[A-Za-z][0-9][A-Za-z][0-9][A-Za-z][0-9]$","Postal Code\nhas invalid format (T6Y7U8)"));')]),e._v(" "),o("p",[o("strong",[e._v("Coding: Update Form")])]),e._v(" "),o("ul",[o("li",[o("p",[e._v("Display of errors can be done in a summary; @Html.ValidationSummary()")])]),e._v(" "),o("li",[o("p",[e._v('or with the input control @Html.ValidationMessage("controlname")')])])]),e._v(" "),o("blockquote",[o("p",[e._v("@* you can display your error message in a summary group")])]),e._v(" "),o("blockquote",[o("p",[e._v("the default display is a bulleted list")])]),e._v(" "),o("blockquote",[o("p",[e._v("all associated messages for validations are displayed *@")])]),e._v(" "),o("blockquote",[o("p",[e._v("@Html.ValidationSummary()")])]),e._v(" "),o("blockquote",[o("p",[e._v('<form id="theform" action="" method="post">.')])]),e._v(" "),o("blockquote",[o("p",[e._v("Or")])]),e._v(" "),o("p",[e._v("@* error message can be display any where such as")]),e._v(" "),o("p",[e._v("beside the field that is in error *@")]),e._v(" "),o("p",[e._v('<input type="text" name="ProductName" id="ProductName"')]),e._v(" "),o("p",[e._v('value="@productname" />')]),e._v(" "),o("p",[e._v('@Html.ValidationMessage("ProductName")')]),e._v(" "),o("blockquote",[o("p",[e._v("<br/>")])]),e._v(" "),o("p",[o("strong",[e._v("Coding: Update Processing")])]),e._v(" "),o("p",[e._v("To have the Validation controls fire, on the client side you need to execute the\nmethod Validation.IsValid(). This method returns a true or false. If there are\nerrors with the data, the error messages associated with the validation will\nautomatically be generated and display for you. There is no need for an “else”\non this test. We will still want to retain data that has already been entered on\nthe form, thus the validation test is after the retrieval of the raw data from\nthe input controls. The test is done before any attempt at conversion from the\ndefault string input to any other datatype.")]),e._v(" "),o("p",[e._v('reorderlevel = Request.Form["ReorderLevel"];')]),e._v(" "),o("p",[e._v('discontinued = Request.Form["Discontinued"];')]),e._v(" "),o("p",[e._v("if (Validation.IsValid())")]),e._v(" "),o("p",[e._v("{")]),e._v(" "),o("p",[e._v("Do the rest of your processing")]),e._v(" "),o("p",[e._v("}")]),e._v(" "),o("p",[o("strong",[e._v("Coding: Logic processing validation")])]),e._v(" "),o("p",[e._v("There are times when using validation controls or HTML5 validation just does not\nmeasure up to the task. An example is ensuring a selection has been made from a\ndropdownlist that contains a prompt line. This situation can be handled with\nlogic.")]),e._v(" "),o("p",[e._v("The supplier and category are nullable fields on the sql table. We can handle\nthis by testing for the prompt line and submitting a null value in its place (as\nwe have done Lesson 2). However, if we "),o("em",[e._v("assume")]),e._v(" that these fields "),o("em",[e._v("were\nrequired")]),e._v(", then we could test the list’s selected value programmability. Lets\nsee how the web page code would change "),o("strong",[e._v("if")]),e._v(" this logic testing was included.")]),e._v(" "),o("p",[e._v("if (Validation.IsValid())")]),e._v(" "),o("p",[e._v("{")]),e._v(" "),o("p",[e._v('if (selectedsupplier.Equals("0"))')]),e._v(" "),o("p",[e._v("{")]),e._v(" "),o("p",[e._v('<p class="col-sm-11 text-center"><span style="color:firebrick"><strong>'),o("br"),e._v("\nPlease select a supplier</strong></span></p>")]),e._v(" "),o("p",[e._v("}")]),e._v(" "),o("p",[e._v('else if (selectedcategory.Equals("0"))')]),e._v(" "),o("p",[e._v("{")]),e._v(" "),o("p",[e._v('<p class="col-sm-11 text-center"><span style="color:firebrick"><strong>'),o("br"),e._v("\nPlease select a category</strong></span></p>")]),e._v(" "),o("p",[e._v("}")]),e._v(" "),o("p",[e._v("else")]),e._v(" "),o("p",[e._v("{")]),e._v(" "),o("p",[e._v("try")]),e._v(" "),o("p",[e._v("{ …")])])}),[],!1,null,null,null);t.default=i.exports}}]);