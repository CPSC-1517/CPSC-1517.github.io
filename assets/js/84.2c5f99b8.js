(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{313:function(e,t,r){"use strict";r.r(t);var o=r(0),a=Object(o.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[r("p",[e._v("Displaying Multiple Items in a GridView (Tutorial 6 of 9)"),r("br"),e._v("\nHands-On Tutorials for Application Programming 1 (DMIT152)"),r("br"),e._v("\nContents at a Glance"),r("br"),e._v("\nIntroduction\t1"),r("br"),e._v("\nDisplaying Multiple Items in a GridView\t2")]),r("p",[e._v("Detailed Contents"),r("br"),e._v("\nIntroduction\t1"),r("br"),e._v("\nDisplaying Multiple Items in a GridView\t2"),r("br"),e._v("\nPurpose\t2"),r("br"),e._v("\nSetup\t2"),r("br"),e._v("\nPart 1 – DropDownList Selection with GridView Results\t2"),r("br"),e._v("\nLookup Products by Category.\t2"),r("br"),e._v("\nPart 2 – TextBox Search with GridView Results\t5"),r("br"),e._v("\nLookup Products by Partial Product Name\t5"),r("br"),e._v("\nOn Your Own\t6"),r("br"),e._v("\nSummary\t7"),r("br"),e._v("\nDiscussion Points\t7")]),r("p",[e._v("Introduction"),r("br"),e._v("\nThis series of hands-on tutorials are designed to demonstrate how to build a web application that uses a Client-Server architecture and that persists information in a database. Each tutorial will walk the reader through steps to build upon a specific web application scenario based upon the Northwind Traders database."),r("br"),e._v("\nThere are nine tutorials in this package. Each hands-on tutorial has a Starter Kit folder with all of the required material to begin the tutorial and a Solution folder with the final product of the tutorial."),r("br"),e._v("\nDisplaying Multiple Items in a GridView"),r("br"),e._v("\n•\tEstimated time: 15-30 minutes."),r("br"),e._v("\n•\tParts:")]),r("ol",[r("li",[r("p",[e._v("Part 1 – DropDownList Selection with GridView Results –"),r("br"),e._v("\nThis part of the tutorial demonstrates displaying multiple items using a GridView control, with a DropDown to “filter” the results.")])]),r("li",[r("p",[e._v("Part 2 – TextBox Search with GridView Results –"),r("br"),e._v("\nThis part of the tutorial demonstrates searching items in a database to produce a list of items that can be displayed in a GridView."),r("br"),e._v("\nPurpose"),r("br"),e._v("\nThis hands-on tutorial will walk through the creation of a number of forms involving the GridView control."),r("br"),e._v("\nSetup"),r("br"),e._v("\nFor this lab, you will need the Visual Studio solution and database from the previous topics(s). The Starter Kit folder contains these resources."),r("br"),e._v("\nPart 1 – DropDownList Selection with GridView Results"),r("br"),e._v("\nThe following steps demonstrate how to display many items (rows of data) using a GridView. These samples provide sub-sets of Products using different “filters”."),r("br"),e._v("\n•\tProducts by Category – Each Category may be applied to one or more products. This form presents a drop-down list of Categories and allows a user to select a specific category and look up which Products fall under that category. The resulting list of Products is displayed in the GridView."),r("br"),e._v("\n•\tProducts by Partial Name – Another way to “filter” the list of products is to search by a partial product name. For example, the user may enter the text “Mix” to find all products that have that text as part of their product name."),r("br"),e._v("\nLookup Products by Category.")])]),r("li",[r("p",[e._v("In the DAL folder of the NorthwindSystem project, open the ProductProvider.cs file and add the following method."),r("br"),e._v("\npublic List<Product> LookupByCategory(int? categoryId)"),r("br"),e._v("\n{"),r("br"),e._v('\nreturn FillList(DataStore.ExecuteReader("Products_GetByCategories", categoryId));'),r("br"),e._v("\n}")])]),r("li",[r("p",[e._v("In the BLL folder, open the ProductController.cs file and add the following method."),r("br"),e._v("\npublic List<Product> LookupProductsByCategory(int? categoryId)"),r("br"),e._v("\n{"),r("br"),e._v("\nreturn DataProvider.LookupByCategory(categoryId);"),r("br"),e._v("\n}")])]),r("li",[r("p",[e._v("In the Admin folder create a folder called GridView. We will use this folder for organizational purposes only; the intent is to make it easier to distinguish it from the previous tutorials.")])]),r("li",[r("p",[e._v("Inside the Admin/GridView folder, create a new web form called “ProductsByCategory.aspx”. Design the form to look like the following screen shot. Use “CategoryDropDownList” as the ID for the DropDownList and “ProductsGridView” as the ID for the GridView. For the LinkButton control, use an ID of “ShowProducts”. Use “MessageLabel” as the ID for the label control.")])]),r("li",[r("p",[e._v("Click the smart tag for the GridView and select “Edit Templates” to edit the EmptyDataTemplate. The EmptyDataTemplate will be used to inform the user that there are no products for the selected category. When you are done, click “End Template Editing”.")])]),r("li",[r("p",[e._v("Create an event handler for the Load event of the form. In that event handler, enter the following code to populate the DropDownList with Category information."),r("br"),e._v("\nprotected void Page_Load(object sender, EventArgs e)"),r("br"),e._v("\n{"),r("br"),e._v("\nif (!IsPostBack)"),r("br"),e._v("\n{"),r("br"),e._v("\ntry"),r("br"),e._v("\n{"),r("br"),e._v("\nCategoryController controller = new CategoryController();"),r("br"),e._v("\nList<Category> categories = controller.ListAllCategories();"),r("br"),e._v("\nCategoryDropDownList.DataSource = categories;"),r("br"),e._v('\nCategoryDropDownList.DataTextField = "CategoryName";'),r("br"),e._v('\nCategoryDropDownList.DataValueField = "CategoryID";'),r("br"),e._v("\nCategoryDropDownList.DataBind();"),r("br"),e._v('\nCategoryDropDownList.Items.Insert(0, "[select a category]");'),r("br"),e._v("\n}"),r("br"),e._v("\ncatch (Exception ex)"),r("br"),e._v("\n{"),r("br"),e._v("\nMessageLabel.Text = ex.Message;"),r("br"),e._v("\n}"),r("br"),e._v("\n}"),r("br"),e._v("\n}")])]),r("li",[r("p",[e._v("Create an event handler for the ShowProducts button. In that event handler, enter the following code to lookup products by category."),r("br"),e._v("\nprotected void ShowProducts_Click(object sender, EventArgs e)"),r("br"),e._v("\n{"),r("br"),e._v("\nif (CategoryDropDownList.SelectedIndex == 0)"),r("br"),e._v("\n{"),r("br"),e._v("\nMessageLabel.Text = \"Please select a category before clicking 'Show Products'.\";"),r("br"),e._v("\n}"),r("br"),e._v("\nelse"),r("br"),e._v("\n{"),r("br"),e._v("\ntry"),r("br"),e._v("\n{"),r("br"),e._v("\nint categoryID = int.Parse(CategoryDropDownList.SelectedValue);"),r("br"),e._v("\nProductController controller = new ProductController();"),r("br"),e._v("\nList<Product> products = controller.LookupProductsByCategory(categoryID);"),r("br"),e._v("\nProductsGridView.DataSource = products;"),r("br"),e._v("\nProductsGridView.DataBind();"),r("br"),e._v('\nMessageLabel.Text = "Results for products by " + CategoryDropDownList.SelectedItem.Text;'),r("br"),e._v("\n}"),r("br"),e._v("\ncatch (Exception ex)"),r("br"),e._v("\n{"),r("br"),e._v("\nMessageLabel.Text = ex.Message;"),r("br"),e._v("\n}"),r("br"),e._v("\n}"),r("br"),e._v("\n}")])]),r("li",[r("p",[e._v("Test the form in your browser. When you look up the products for a specific category, you should see a set of products in the GridView.")])]),r("li",[r("p",[e._v("Since each Product can have a null value for its CategoryID property, it’s possible that some products exist without a category. It would make sense to extend the capability of the form to lookup products without a category. To do this, make the following changes and then test the form in your browser."),r("br"),e._v("\na.\tModify the Page_Load() method to append another item to the CategoryDropDownList."),r("br"),e._v('\nCategoryDropDownList.Items.Insert(0, "[select a category]");'),r("br"),e._v('\nCategoryDropDownList.Items.Insert(1, "[no category]");')])])]),r("p",[e._v("b.\tModify the Click event handler for ShowProducts to treat the “[no category]” option as a null value."),r("br"),e._v("\nint? categoryID;"),r("br"),e._v("\nif (CategoryDropDownList.SelectedIndex == 1)"),r("br"),e._v("\ncategoryID = null;"),r("br"),e._v("\nelse"),r("br"),e._v("\ncategoryID = int.Parse(CategoryDropDownList.SelectedValue);")]),r("p",[e._v("Part 2 – TextBox Search with GridView Results"),r("br"),e._v("\nLookup Products by Partial Product Name")]),r("ol",[r("li",[r("p",[e._v("In the DAL folder of the NorthwindSystem project, open the ProductProvider.cs file and add the following method."),r("br"),e._v("\npublic List<Product> LookupByProductName(string partialName)"),r("br"),e._v("\n{"),r("br"),e._v('\nreturn FillList(DataStore.ExecuteReader("Products_GetByPartialProductName",'),r("br"),e._v("\npartialName));"),r("br"),e._v("\n}")])]),r("li",[r("p",[e._v("In the BLL folder, open the ProductController.cs file and add the following method."),r("br"),e._v("\npublic List<Product> LookupProductsByName(string partialName)"),r("br"),e._v("\n{"),r("br"),e._v("\nreturn DataProvider.LookupByProductName(partialName);"),r("br"),e._v("\n}")])]),r("li",[r("p",[e._v("In the Admin/GridView folder, create a new web form called “ProductsByPartialName.aspx”. Design the form to look like the following screen shot. Use “PartialProductName” as the ID for the TextBox control and “ProductsGridView” as the ID for the GridView. For the LinkButton control, use an ID of “ShowProducts”.")])]),r("li",[r("p",[e._v("Click the smart tag for the GridView and select “Edit Templates” to edit the EmptyDataTemplate. The EmptyDataTemplate will be used to inform the user that there are no products for the selected category.")])]),r("li",[r("p",[e._v("Create an event handler for the ShowProducts button. In that event handler, enter the following code to lookup products by partial product name."),r("br"),e._v("\nprotected void ShowProducts_Click(object sender, EventArgs e)"),r("br"),e._v("\n{"),r("br"),e._v("\ntry"),r("br"),e._v("\n{"),r("br"),e._v("\nProductController controller = new ProductController();"),r("br"),e._v("\nList<Product> results = controller.LookupProductsByName(PartialProductName.Text);"),r("br"),e._v("\nProductsGridView.DataSource = results;"),r("br"),e._v("\nProductsGridView.DataBind();"),r("br"),e._v('\nMessageLabel.Text = "Results matching the partial name \'"'),r("br"),e._v('\n+ PartialProductName.Text + "\'.";'),r("br"),e._v("\n}"),r("br"),e._v("\ncatch (Exception ex)"),r("br"),e._v("\n{"),r("br"),e._v("\nMessageLabel.Text = ex.Message;"),r("br"),e._v("\n}"),r("br"),e._v("\n}")])]),r("li",[r("p",[e._v("Test the form. When you enter part or all of a product’s name, the results should be displayed in the GridView.")])])]),r("p",[e._v("On Your Own"),r("br"),e._v("\nCreate a number of forms to display information in a GridView."),r("br"),e._v("\n•\tLookup Products by Supplier – This form should have a drop down list of Suppliers and allow the user to select a supplier and then see which products are purchased from that supplier."),r("br"),e._v("\n•\tSearch suppliers – this form should allow the user to view  a list of Suppliers using various search criteria:")]),r("ol",[r("li",[e._v("Show All Suppliers – Display all the suppliers.")]),r("li",[e._v("Search by Partial Company Name – List Suppliers based on the user entering part of the company name.")]),r("li",[e._v("Search by Partial Contact Name – The user may enter part of the name of the contact person for the Supplier."),r("br"),e._v("\nSummary"),r("br"),e._v("\nIn this hands-on tutorial, you explored various ways to filter/search rows of information in a database. You also displayed the information in a GridView."),r("br"),e._v("\nDiscussion Points"),r("br"),e._v("\nThe following questions are designed to help you review key aspects of this tutorial."),r("br"),e._v("\nTo Be Continued")])])])}],!1,null,null,null);a.options.__file="tutorial-6-gridview.md";t.default=a.exports}}]);