<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Bare-Bones Razor Pages | CPSC-1517 Student Notes</title>
    <meta name="description" content="How to use Razor Web Pages beginning with an empty ASP.Net Web Site.">
    
    
    <link rel="preload" href="/assets/css/0.styles.80f4b4fc.css" as="style"><link rel="preload" href="/assets/js/app.2b07235e.js" as="script"><link rel="preload" href="/assets/js/16.28ab2478.js" as="script"><link rel="prefetch" href="/assets/js/1.20fd4c11.js"><link rel="prefetch" href="/assets/js/2.d7db99ed.js"><link rel="prefetch" href="/assets/js/3.bd834bc6.js"><link rel="prefetch" href="/assets/js/4.cf6d6dec.js"><link rel="prefetch" href="/assets/js/5.ab11b25e.js"><link rel="prefetch" href="/assets/js/6.db21bc39.js"><link rel="prefetch" href="/assets/js/7.cdf389ab.js"><link rel="prefetch" href="/assets/js/8.208868c7.js"><link rel="prefetch" href="/assets/js/9.35372865.js"><link rel="prefetch" href="/assets/js/10.f7d40ea2.js"><link rel="prefetch" href="/assets/js/11.cb64fe3e.js"><link rel="prefetch" href="/assets/js/12.98f877eb.js"><link rel="prefetch" href="/assets/js/13.965f6891.js"><link rel="prefetch" href="/assets/js/14.be7dbf5e.js"><link rel="prefetch" href="/assets/js/15.e7f47b8f.js"><link rel="prefetch" href="/assets/js/17.fb9c7ef7.js"><link rel="prefetch" href="/assets/js/18.1b6767f0.js"><link rel="prefetch" href="/assets/js/19.8f39a814.js"><link rel="prefetch" href="/assets/js/20.205a472e.js"><link rel="prefetch" href="/assets/js/21.06c77364.js"><link rel="prefetch" href="/assets/js/22.6846b524.js"><link rel="prefetch" href="/assets/js/23.e439e447.js"><link rel="prefetch" href="/assets/js/24.8701b8a3.js"><link rel="prefetch" href="/assets/js/25.496b1c88.js"><link rel="prefetch" href="/assets/js/26.d1169433.js"><link rel="prefetch" href="/assets/js/27.766c65ff.js"><link rel="prefetch" href="/assets/js/28.fda77714.js"><link rel="prefetch" href="/assets/js/29.8a4c8614.js"><link rel="prefetch" href="/assets/js/30.dfe1b871.js"><link rel="prefetch" href="/assets/js/31.ad160c5d.js"><link rel="prefetch" href="/assets/js/32.b94f4bfd.js"><link rel="prefetch" href="/assets/js/33.853af7fb.js"><link rel="prefetch" href="/assets/js/34.135e3473.js"><link rel="prefetch" href="/assets/js/35.047d86c7.js"><link rel="prefetch" href="/assets/js/36.0cabe7a1.js"><link rel="prefetch" href="/assets/js/37.abaffb42.js"><link rel="prefetch" href="/assets/js/38.8a6d63f0.js"><link rel="prefetch" href="/assets/js/39.11d98a09.js"><link rel="prefetch" href="/assets/js/40.8fcb6512.js"><link rel="prefetch" href="/assets/js/41.165b61d9.js"><link rel="prefetch" href="/assets/js/42.3b32349f.js"><link rel="prefetch" href="/assets/js/43.0a93b7ed.js"><link rel="prefetch" href="/assets/js/44.24a6cdd7.js"><link rel="prefetch" href="/assets/js/45.f54734c2.js"><link rel="prefetch" href="/assets/js/46.cac6a1cb.js"><link rel="prefetch" href="/assets/js/47.cd697cdb.js"><link rel="prefetch" href="/assets/js/48.87891f3e.js"><link rel="prefetch" href="/assets/js/49.10c21c78.js"><link rel="prefetch" href="/assets/js/50.4195e9e1.js"><link rel="prefetch" href="/assets/js/51.99d58bcd.js"><link rel="prefetch" href="/assets/js/52.0302d13f.js"><link rel="prefetch" href="/assets/js/53.61bf6d62.js"><link rel="prefetch" href="/assets/js/54.c0b03400.js"><link rel="prefetch" href="/assets/js/55.84e1dde2.js"><link rel="prefetch" href="/assets/js/56.570068a5.js"><link rel="prefetch" href="/assets/js/57.a397ada9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.80f4b4fc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      CPSC-1517 Student Notes
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/about/" class="nav-link">Home</a></div><div class="nav-item"><a href="/logs/" class="nav-link">LOGs</a></div><div class="nav-item"><a href="/csharp/" class="nav-link">C-Sharp</a></div><div class="nav-item"><a href="/html/" class="nav-link">Html</a></div><div class="nav-item"><a href="/razor/" class="nav-link router-link-active">Razor</a></div><div class="nav-item"><a href="/clientserver/" class="nav-link">Client-Server</a></div><div class="nav-item"><a href="/webforms/" class="nav-link">Webforms</a></div><div class="nav-item"><a href="https://github.com/CPSC-1517/CPSC-1517.github.io/issues/new" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Issues/Bugs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://moodle.nait.ca" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Moodle
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/about/" class="nav-link">Home</a></div><div class="nav-item"><a href="/logs/" class="nav-link">LOGs</a></div><div class="nav-item"><a href="/csharp/" class="nav-link">C-Sharp</a></div><div class="nav-item"><a href="/html/" class="nav-link">Html</a></div><div class="nav-item"><a href="/razor/" class="nav-link router-link-active">Razor</a></div><div class="nav-item"><a href="/clientserver/" class="nav-link">Client-Server</a></div><div class="nav-item"><a href="/webforms/" class="nav-link">Webforms</a></div><div class="nav-item"><a href="https://github.com/CPSC-1517/CPSC-1517.github.io/issues/new" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Issues/Bugs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://moodle.nait.ca" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Moodle
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav><ul class="sidebar-links"><li><a href="/razor/" class="sidebar-link">Razor Overview</a></li><li><a href="/razor/setup.html" class="active sidebar-link">Bare-Bones Razor Pages</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/razor/setup.html#getting-started" class="sidebar-link">Getting Started</a></li><li class="sidebar-sub-header"><a href="/razor/setup.html#adding-in-server-side-code" class="sidebar-link">Adding in Server-Side Code</a></li><li class="sidebar-sub-header"><a href="/razor/setup.html#how-it-works" class="sidebar-link">How it Works</a></li><li class="sidebar-sub-header"><a href="/razor/setup.html#completed-code-sample" class="sidebar-link">Completed Code Sample</a></li></ul></li><li><a href="/razor/syntax.html" class="sidebar-link">Razor Syntax</a></li><li><a href="/razor/layoutPages.html" class="sidebar-link">Razor Laout Pages</a></li><li><a href="/razor/forms.html" class="sidebar-link">Razor Forms</a></li><li><a href="/razor/usingBootstrap.html" class="sidebar-link">Using Bootstrap with Razor</a></li><li><a href="/razor/validationHelpers.html" class="sidebar-link">Validation Helpers</a></li><li><a href="/razor/extras.html" class="sidebar-link">Razor Resources</a></li></ul></div><div class="page"><div class="content"><h1 id="bare-bones-razor-pages"><a href="#bare-bones-razor-pages" aria-hidden="true" class="header-anchor">#</a> Bare-Bones Razor Pages</h1><p>How to use Razor Web Pages beginning with an empty ASP.Net Web Site.</p><p><img src="images/razor-3-1624296-638x533.jpg" alt></p><h2 id="getting-started"><a href="#getting-started" aria-hidden="true" class="header-anchor">#</a> Getting Started</h2><p>To demonstrate Razor web pages, we will begin with an Empty ASP.Net Web Site. Notice that this web site template includes only the web.config files.</p><p><strong>web.config</strong></p><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>system.web</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>compilation</span> <span class="token attr-name">debug</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetFramework</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>4.5<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>httpRuntime</span> <span class="token attr-name">targetFramework</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>4.5<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>system.web</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Creating an Asp.Net Razor web page is fairly easy to do. Simply right-click on your website or a folder in your website and select <samp>Add &gt; Add new item …</samp> and in the template dialog choose a <samp>Content Page (Razor v.3)</samp> template, naming it <samp>Default.cshtml</samp>.</p><p><strong>Default.cshtml</strong></p><div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>In order for the web server to process Razor web pages, it needs certain libraries (DLLs). When the Razor page was added, Visual Studio checked to see if these DLLs were already included in the project; if they weren't, then Visual Studio will include them as NuGet packages and register them in the site's packages.config file.</p><p><strong>packages.config</strong></p><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packages</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Microsoft.AspNet.Razor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>3.2.3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetFramework</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>net45<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Microsoft.AspNet.WebPages<span class="token punctuation">&quot;</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>3.2.3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetFramework</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>net45<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Microsoft.Web.Infrastructure<span class="token punctuation">&quot;</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1.0.0.0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetFramework</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>net45<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packages</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Additionally, Visual Studio updates the web.config file so that the web server will know how to process the Razor pages on the server.</p><p><strong>web.config</strong></p><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>system.web</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>compilation</span> <span class="token attr-name">debug</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetFramework</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>4.5<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assemblies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">assembly</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Microsoft.Web.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>assemblies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>compilation</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>httpRuntime</span> <span class="token attr-name">targetFramework</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>4.5<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>system.web</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>runtime</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assemblyBinding</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>urn:schemas-microsoft-com:asm.v1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependentAssembly</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assemblyIdentity</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>System.Web.Helpers<span class="token punctuation">&quot;</span></span> <span class="token attr-name">publicKeyToken</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>31bf3856ad364e35<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bindingRedirect</span> <span class="token attr-name">oldVersion</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1.0.0.0-3.0.0.0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">newVersion</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>3.0.0.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependentAssembly</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependentAssembly</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assemblyIdentity</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>System.Web.WebPages<span class="token punctuation">&quot;</span></span> <span class="token attr-name">publicKeyToken</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>31bf3856ad364e35<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bindingRedirect</span> <span class="token attr-name">oldVersion</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1.0.0.0-3.0.0.0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">newVersion</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>3.0.0.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependentAssembly</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>assemblyBinding</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>runtime</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="adding-in-server-side-code"><a href="#adding-in-server-side-code" aria-hidden="true" class="header-anchor">#</a> Adding in Server-Side Code</h2><p>Razor Syntax allows you to include code that will run on the web server before the page is sent to the browser. For example, a block of code can be added to the Default page that will set the title for the page. That value can then be used in the <code>&lt;title&gt;</code> of the <code>&lt;head&gt;</code> as well as anywhere else, such as an <code>&lt;h1&gt;</code> in the body of the page.</p><p><strong>Modified Default.cshtml</strong></p><div class="language-csharp extra-class"><pre class="language-csharp"><code>@<span class="token punctuation">{</span>
    Page<span class="token punctuation">.</span>Title <span class="token operator">=</span> <span class="token string">&quot;Bare Bones Razor&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token class-name">DOCTYPE</span> html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>@Page<span class="token punctuation">.</span>Title<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>@Page<span class="token punctuation">.</span>Title<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre></div><h2 id="how-it-works"><a href="#how-it-works" aria-hidden="true" class="header-anchor">#</a> How it Works</h2><p>Razor web pages work by providing context-switching between the worlds of html/css/javascript and server-side programming languages such as C# and VB.Net. This ability to switch contexts between these programming languages is possible because of a special syntax called Razor Syntax. Web servers know to use Razor syntax for processing certain page requests when the file extension of the web page ends in .cshtml (for C#) or .vbhtml (for VB.Net).</p><p>Any given Razor web page is first processed as though it is plain old HTML content; this HTML content is simply going to be passed as-is to the browser. The switch to a back-end language for server-side processing is done using the <code>@</code> symbol. Through use of the <code>@</code> symbol, a simple expression, flow-control keyword, or statement block can be processed and any resulting output included in the response sent to the browser. Effectivly, the server-side code is nested inside the HTML content.</p><p>When the server-side code is a simple expression that returns a value, that value is rendered as part of the HTML content sent to the browser. Thus, an expression like <code>@Page.Title</code> will echo out the value of the Title property of the Page object wherever the expression is placed in the page.</p><p>When the server-side code is a flow-control keyword, such as <code>@if</code> or <code>@for</code>, the contents of the code block is dealt with according to the rules of the server-side programming language. (As a side-note, all flow-control statements in Razor syntax <em>must</em> be followed by a statement block – i.e., curly braces in C# – for Razor to recognize their contents as server-side code. As such, even a single line of code for a simple <code>if</code> statement has to be enclosed in a statement block.)</p><p>When the server-side code is a simple statement block, then the block of code acts as though it is simple the body of some method that executes at that point in the page. Any variables or objects you create or declare in that statement block will be available for use in that block and later on in the page. When Razor processes the page, the basic rules of variables apply – a variable must be delcared before it can be used.</p><p>All this context switching isn't just one-way, however. Just as you can nest C# code inside the HTML page, you can nest HTML content inside a block of C# code. This ability to continually nest one context inside another is what gives Razor syntax such tremendous flexibility.</p><h2 id="completed-code-sample"><a href="#completed-code-sample" aria-hidden="true" class="header-anchor">#</a> Completed Code Sample</h2><p><strong>Default.cshtml</strong></p><div class="language-html extra-class"><pre class="language-html"><code>@{
    Page.Title = &quot;Bare Bones Razor&quot;;
}
<span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>@Page.Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>@Page.Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>web.config</strong></p><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="token comment">&lt;!--
  For more information on how to configure your ASP.NET application, please visit
  http://go.microsoft.com/fwlink/?LinkId=169433
  --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>system.web</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>compilation</span> <span class="token attr-name">debug</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetFramework</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>4.5<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assemblies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">assembly</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Microsoft.Web.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>assemblies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>compilation</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>httpRuntime</span> <span class="token attr-name">targetFramework</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>4.5<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>system.web</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>runtime</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assemblyBinding</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>urn:schemas-microsoft-com:asm.v1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependentAssembly</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assemblyIdentity</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>System.Web.Helpers<span class="token punctuation">&quot;</span></span> <span class="token attr-name">publicKeyToken</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>31bf3856ad364e35<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bindingRedirect</span> <span class="token attr-name">oldVersion</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1.0.0.0-3.0.0.0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">newVersion</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>3.0.0.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependentAssembly</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependentAssembly</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assemblyIdentity</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>System.Web.WebPages<span class="token punctuation">&quot;</span></span> <span class="token attr-name">publicKeyToken</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>31bf3856ad364e35<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bindingRedirect</span> <span class="token attr-name">oldVersion</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1.0.0.0-3.0.0.0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">newVersion</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>3.0.0.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependentAssembly</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>assemblyBinding</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>runtime</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>packages.config</strong></p><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packages</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Microsoft.AspNet.Razor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>3.2.3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetFramework</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>net45<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Microsoft.AspNet.WebPages<span class="token punctuation">&quot;</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>3.2.3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetFramework</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>net45<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Microsoft.Web.Infrastructure<span class="token punctuation">&quot;</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1.0.0.0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetFramework</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>net45<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packages</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><hr><h1 id="todo"><a href="#todo" aria-hidden="true" class="header-anchor">#</a> TODO:</h1><ul><li><input type="checkbox" id="checkbox6"><label for="checkbox6">Empty web site (just a web.config)</label></li><li><input type="checkbox" id="checkbox7"><label for="checkbox7">Add a Razor page (Sample.cshtml), notice bin files</label></li><li><input type="checkbox" id="checkbox8"><label for="checkbox8">Simple C# code block - &quot;Hello&quot; + &quot; &quot; + &quot;World&quot; - context switching</label></li><li><input type="checkbox" id="checkbox9"><label for="checkbox9">View in browser</label></li></ul></div><div class="page-edit"><!----><!----></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/razor/" class="prev router-link-active">
          Razor Overview
        </a></span><span class="next"><a href="/razor/syntax.html">
          Razor Syntax
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/16.28ab2478.js" defer></script><script src="/assets/js/app.2b07235e.js" defer></script>
  </body>
</html>
