<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mapping to the Database | CPSC-1517 Student Notes</title>
    <meta name="description" content="Introduction to Application Development">
    
    
    <link rel="preload" href="/assets/css/0.styles.59e31e97.css" as="style"><link rel="preload" href="/assets/js/app.35b7d3fb.js" as="script"><link rel="preload" href="/assets/js/80.2c3e6c55.js" as="script"><link rel="prefetch" href="/assets/js/2.7bbc7679.js"><link rel="prefetch" href="/assets/js/3.7e9ccf95.js"><link rel="prefetch" href="/assets/js/4.d601197d.js"><link rel="prefetch" href="/assets/js/5.ab5bbf44.js"><link rel="prefetch" href="/assets/js/6.2f1f9964.js"><link rel="prefetch" href="/assets/js/7.e7bd23cf.js"><link rel="prefetch" href="/assets/js/8.5c7c785d.js"><link rel="prefetch" href="/assets/js/9.7ae51752.js"><link rel="prefetch" href="/assets/js/10.500e4f07.js"><link rel="prefetch" href="/assets/js/11.5330b9a6.js"><link rel="prefetch" href="/assets/js/12.3772ea0b.js"><link rel="prefetch" href="/assets/js/13.d324d487.js"><link rel="prefetch" href="/assets/js/14.c31f0703.js"><link rel="prefetch" href="/assets/js/15.79c0067d.js"><link rel="prefetch" href="/assets/js/16.9d5efcf3.js"><link rel="prefetch" href="/assets/js/17.9ce509ed.js"><link rel="prefetch" href="/assets/js/18.cc02ad7f.js"><link rel="prefetch" href="/assets/js/19.e07767d9.js"><link rel="prefetch" href="/assets/js/20.afe5937f.js"><link rel="prefetch" href="/assets/js/21.57f1e9a4.js"><link rel="prefetch" href="/assets/js/22.d47182ce.js"><link rel="prefetch" href="/assets/js/23.15879838.js"><link rel="prefetch" href="/assets/js/24.ffb8b7f9.js"><link rel="prefetch" href="/assets/js/25.012a574f.js"><link rel="prefetch" href="/assets/js/26.f58c8b89.js"><link rel="prefetch" href="/assets/js/27.49f47940.js"><link rel="prefetch" href="/assets/js/28.8dabc266.js"><link rel="prefetch" href="/assets/js/29.8665c708.js"><link rel="prefetch" href="/assets/js/30.e4dfe482.js"><link rel="prefetch" href="/assets/js/31.aebcb925.js"><link rel="prefetch" href="/assets/js/32.7bc36913.js"><link rel="prefetch" href="/assets/js/33.2689d845.js"><link rel="prefetch" href="/assets/js/34.b1d64517.js"><link rel="prefetch" href="/assets/js/35.67a6e77d.js"><link rel="prefetch" href="/assets/js/36.a1ba6e14.js"><link rel="prefetch" href="/assets/js/37.c54b2cb3.js"><link rel="prefetch" href="/assets/js/38.fa8f5dd2.js"><link rel="prefetch" href="/assets/js/39.42dbae8d.js"><link rel="prefetch" href="/assets/js/40.410ffcb6.js"><link rel="prefetch" href="/assets/js/41.932d4877.js"><link rel="prefetch" href="/assets/js/42.2d8c9052.js"><link rel="prefetch" href="/assets/js/43.5441c765.js"><link rel="prefetch" href="/assets/js/44.ce153559.js"><link rel="prefetch" href="/assets/js/45.b65dbb3a.js"><link rel="prefetch" href="/assets/js/46.66753cd9.js"><link rel="prefetch" href="/assets/js/47.f3529e63.js"><link rel="prefetch" href="/assets/js/48.a15e44ae.js"><link rel="prefetch" href="/assets/js/49.6194ced8.js"><link rel="prefetch" href="/assets/js/50.483dd371.js"><link rel="prefetch" href="/assets/js/51.0dffef05.js"><link rel="prefetch" href="/assets/js/52.f6fd0084.js"><link rel="prefetch" href="/assets/js/53.9c00ddb2.js"><link rel="prefetch" href="/assets/js/54.5fdb69c5.js"><link rel="prefetch" href="/assets/js/55.e4952ceb.js"><link rel="prefetch" href="/assets/js/56.00c601c0.js"><link rel="prefetch" href="/assets/js/57.ba900f92.js"><link rel="prefetch" href="/assets/js/58.f692a0ff.js"><link rel="prefetch" href="/assets/js/59.97d2e52e.js"><link rel="prefetch" href="/assets/js/60.86c6e7be.js"><link rel="prefetch" href="/assets/js/61.29ce4f5d.js"><link rel="prefetch" href="/assets/js/62.fd02cd50.js"><link rel="prefetch" href="/assets/js/63.dd91fad1.js"><link rel="prefetch" href="/assets/js/64.656bc895.js"><link rel="prefetch" href="/assets/js/65.df860e0c.js"><link rel="prefetch" href="/assets/js/66.c9fb4b3e.js"><link rel="prefetch" href="/assets/js/67.11c54b72.js"><link rel="prefetch" href="/assets/js/68.3ebb5456.js"><link rel="prefetch" href="/assets/js/69.38a813aa.js"><link rel="prefetch" href="/assets/js/70.f47218a9.js"><link rel="prefetch" href="/assets/js/71.5544a116.js"><link rel="prefetch" href="/assets/js/72.dfce09c3.js"><link rel="prefetch" href="/assets/js/73.88d01397.js"><link rel="prefetch" href="/assets/js/74.6a6227d4.js"><link rel="prefetch" href="/assets/js/75.9cebf766.js"><link rel="prefetch" href="/assets/js/76.65aea59b.js"><link rel="prefetch" href="/assets/js/77.016ec321.js"><link rel="prefetch" href="/assets/js/78.4c79ed99.js"><link rel="prefetch" href="/assets/js/79.a326cc32.js"><link rel="prefetch" href="/assets/js/81.cd233768.js"><link rel="prefetch" href="/assets/js/82.9de3fa40.js"><link rel="prefetch" href="/assets/js/83.324298cc.js"><link rel="prefetch" href="/assets/js/84.2c5f99b8.js"><link rel="prefetch" href="/assets/js/85.cc558c32.js"><link rel="prefetch" href="/assets/js/86.8f6411d4.js"><link rel="prefetch" href="/assets/js/87.39d4e7e2.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.8832ec7c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.59e31e97.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      CPSC-1517 Student Notes
    </span></a><div class="links"><form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form><nav class="nav-links can-hide"><div class="nav-item"><a href="/about/" class="nav-link">Home</a></div><div class="nav-item"><a href="/logs/" class="nav-link">LOGs</a></div><div class="nav-item"><a href="/csharp/" class="nav-link">C-Sharp</a></div><div class="nav-item"><a href="/html/" class="nav-link">Html</a></div><div class="nav-item"><a href="/razor/" class="nav-link">Razor</a></div><div class="nav-item"><a href="/clientserver/" class="nav-link">Client-Server</a></div><div class="nav-item"><a href="/webforms/" class="nav-link router-link-active">Webforms</a></div><div class="nav-item"><a href="https://github.com/CPSC-1517/CPSC-1517.github.io/issues/new" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Issues/Bugs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://moodle.nait.ca" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Moodle
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/about/" class="nav-link">Home</a></div><div class="nav-item"><a href="/logs/" class="nav-link">LOGs</a></div><div class="nav-item"><a href="/csharp/" class="nav-link">C-Sharp</a></div><div class="nav-item"><a href="/html/" class="nav-link">Html</a></div><div class="nav-item"><a href="/razor/" class="nav-link">Razor</a></div><div class="nav-item"><a href="/clientserver/" class="nav-link">Client-Server</a></div><div class="nav-item"><a href="/webforms/" class="nav-link router-link-active">Webforms</a></div><div class="nav-item"><a href="https://github.com/CPSC-1517/CPSC-1517.github.io/issues/new" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Issues/Bugs
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://moodle.nait.ca" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Moodle
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav><ul class="sidebar-links"><li><a href="/webforms/" class="sidebar-link">Webforms</a></li><li><a href="/webforms/01-overview.html" class="sidebar-link">Web Forms Overview</a></li><li><a href="/webforms/02-servercontrols.html" class="sidebar-link">Web Form Controls</a></li><li><a href="/webforms/asp-controls-intro.html" class="sidebar-link">Programming with ASP.NET Controls</a></li><li><a href="/webforms/tutorial-2-maptodb.html" class="active sidebar-link">Mapping to the Database</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/webforms/tutorial-2-maptodb.html#mapping-to-the-database" class="sidebar-link">Mapping to the Database</a></li></ul></li></ul></div><div class="page"><div class="content"><h1 id="mapping-to-the-database-part-2-of-9"><a href="#mapping-to-the-database-part-2-of-9" aria-hidden="true" class="header-anchor">#</a> Mapping to the Database - Part 2 of 9</h1><div class="warning custom-block"><p class="custom-block-title">OBSOLETE</p><p>The content in this demo is obsolete. Use the Entity Framework library as demonstrated in class.</p></div><p>This series of hands-on tutorials are designed to demonstrate how to build a web application that uses a Client-Server architecture and that persists information in a database. Each tutorial will walk the reader through steps to build upon a specific web application scenario based upon the Northwind Traders database.</p><p>There are nine tutorials in this package. Each hands-on tutorial has a Starter Kit folder with all of the required material to begin the tutorial and a Solution folder with the final product of the tutorial.</p><p><img src="/assets/img/image043.86d9d65b.jpg" alt="Products and Categories"></p><h2 id="mapping-to-the-database"><a href="#mapping-to-the-database" aria-hidden="true" class="header-anchor">#</a> Mapping to the Database</h2><ul><li>Estimated time: 30 minutes.</li><li>Parts:
<ol><li><strong>Creating Custom Business Objects (CBOs)</strong> - This part of the tutorial focuses on creating classes for business entities that have a one-to-one mapping with the tables in the database</li><li><strong>The Abstract DAL Provider</strong> - In this part of the tutorial, a base class is developed for the upcoming DAL classes. This base class will centralize access to the database and define common methods for mapping database data to the business entities.</li><li><strong>Mapping the Data</strong> - The final part of this tutorial finishes off the mapping of database information to specific business entities. The classes created here will serve as the primary DAL classes for each business entity in the upcoming tutorials.</li></ol></li></ul><hr><h3 id="purpose"><a href="#purpose" aria-hidden="true" class="header-anchor">#</a> Purpose</h3><p>This tutorial will lead you through the steps to create the underlying code needed to map database information to Business Entities (or CBOs). This will involve designing classes to represent and hold database information and writing the DAL code that will connect to the database and handle the transfer of data.</p><p>The two tables which will be mapped to the application in Part 3 are the Categories and Products tables. Mapping the Suppliers table, which will be needed for later tutorials, is left as an exercise at the end of this tutorial.</p><h3 id="setup"><a href="#setup" aria-hidden="true" class="header-anchor">#</a> Setup</h3><p>For this lab, you will need the NorthwindExtended database. The Starter Kit folder contains a folder with a backup of this database named &quot;NorthwindExtended.bak&quot;. Before starting this tutorial, restore this database to your local installation of Microsoft SQL Server.</p><p>Note: If you don't have the full version of SQL Server installed on your computer, you can restore the database to SQL Express instead. In this case, you would need to use &quot;./SQLEXPRESS&quot; as the Server Name and Data Source.</p><h3 id="part-1-–-creating-custom-business-objects-cbos"><a href="#part-1-–-creating-custom-business-objects-cbos" aria-hidden="true" class="header-anchor">#</a> Part 1 – Creating Custom Business Objects (CBOs)</h3><p>This part of the tutorial focuses on creating classes for business entities that have a one-to-one mapping with the tables in the database. Two classes will be created, one for data in the Products table and one for the Categories table.</p><ol><li><p>Open Server Explorer and add a connection to the NorthwindExtended database. <br><img src="/assets/img/image045.08f1a822.jpg" alt="Add Connection"></p></li><li><p>Expand the database in Server Explorer until you see a list of the tables. Right-click on the Categories table and select Open Table Definition. This will allow you to see the column names and data types for Categories data. <br><img src="/assets/img/image047.8c62a3d3.jpg" alt="Open Table Definition"><br><img src="data:image/jpeg;base64,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" alt="Category Table Definition"></p></li><li><p>Add a class to the NorthwindEntities solution and name it Category. In this class, create a single property for each column in the Categories table. This new Category class is a custom business object (CBO) or business entity that, when instantiated, will hold the data for a single row from the Categories table.</p></li></ol><div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">using</span> System<span class="token punctuation">;</span>
<span class="token keyword">namespace</span> NorthwindEntities
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Category</span>
    <span class="token punctuation">{</span>
        <span class="token preprocessor property">#<span class="token directive keyword">region</span> Properties</span>
        <span class="token keyword">public</span> <span class="token keyword">int</span> CategoryID <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token keyword">string</span> CategoryName <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token keyword">string</span> Description <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> Picture <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token preprocessor property">#<span class="token directive keyword">endregion</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="4"><li>Add two constructors for this class. The first one will be a &quot;greedy&quot; constructor, and will have one parameter for each property of the class. The second will be a parameter-less constructor which will leave the properties un-initialized. The parameter-less constructor will offer flexibility when instantiating while the greedy constructor will be helpful for developers who want to set initial property values when they create their CBO.</li></ol><div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token preprocessor property">#<span class="token directive keyword">region</span> Constructors</span>
<span class="token keyword">public</span> <span class="token function">Category</span><span class="token punctuation">(</span><span class="token keyword">int</span> categoryID<span class="token punctuation">,</span> <span class="token keyword">string</span> categoryName<span class="token punctuation">,</span> <span class="token keyword">string</span> description<span class="token punctuation">,</span> Byte<span class="token punctuation">[</span><span class="token punctuation">]</span> picture<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    CategoryID <span class="token operator">=</span> categoryID<span class="token punctuation">;</span>
    CategoryName <span class="token operator">=</span> categoryName<span class="token punctuation">;</span>
    Description <span class="token operator">=</span> description<span class="token punctuation">;</span>
    Picture <span class="token operator">=</span> picture<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token function">Category</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token preprocessor property">#<span class="token directive keyword">endregion</span></span>
</code></pre></div><ol start="5"><li>Repeat steps 2-4 for the Products table. Create a CBO class named Product that has a property for each table column and two constructors. Use nullable types for properties whenever a column allows null values. <br><img src="/assets/img/image051.d7621791.jpg" alt="Product Table Definition"></li></ol><div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">using</span> System<span class="token punctuation">;</span>
<span class="token keyword">namespace</span> NorthwindEntities
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Product</span>
    <span class="token punctuation">{</span>
        <span class="token preprocessor property">#<span class="token directive keyword">region</span> Properties</span>
        <span class="token keyword">public</span> <span class="token keyword">int</span> ProductID <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token keyword">string</span> ProductName <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token keyword">int</span><span class="token operator">?</span> SupplierID <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token keyword">int</span><span class="token operator">?</span> CategoryID <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token keyword">string</span> QuantityPerUnit <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token keyword">decimal</span><span class="token operator">?</span> UnitPrice <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token keyword">short</span><span class="token operator">?</span> UnitsInStock <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token keyword">short</span><span class="token operator">?</span> UnitsOnOrder <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token keyword">short</span><span class="token operator">?</span> ReorderLevel <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token keyword">bool</span> Discontinued <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token preprocessor property">#<span class="token directive keyword">endregion</span></span>
        <span class="token preprocessor property">#<span class="token directive keyword">region</span> Constructors</span>
        <span class="token keyword">public</span> <span class="token function">Product</span><span class="token punctuation">(</span><span class="token keyword">int</span> productID<span class="token punctuation">,</span> <span class="token keyword">string</span> productName<span class="token punctuation">,</span>
                       <span class="token keyword">int</span><span class="token operator">?</span> supplierID<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">?</span> categoryID<span class="token punctuation">,</span>
                       <span class="token keyword">string</span> quantityPerUnit<span class="token punctuation">,</span> <span class="token keyword">decimal</span><span class="token operator">?</span> unitPrice<span class="token punctuation">,</span>
                       <span class="token keyword">short</span><span class="token operator">?</span> unitsInStock<span class="token punctuation">,</span> <span class="token keyword">short</span><span class="token operator">?</span> unitsOnOrder<span class="token punctuation">,</span>
                       <span class="token keyword">short</span><span class="token operator">?</span> reorderLevel<span class="token punctuation">,</span> <span class="token keyword">bool</span> discontinued<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            ProductID <span class="token operator">=</span> productID<span class="token punctuation">;</span>
            ProductName <span class="token operator">=</span> productName<span class="token punctuation">;</span>
            SupplierID <span class="token operator">=</span> supplierID<span class="token punctuation">;</span>
            CategoryID <span class="token operator">=</span> categoryID<span class="token punctuation">;</span>
            QuantityPerUnit <span class="token operator">=</span> quantityPerUnit<span class="token punctuation">;</span>
            UnitPrice <span class="token operator">=</span> unitPrice<span class="token punctuation">;</span>
            UnitsInStock <span class="token operator">=</span> unitsInStock<span class="token punctuation">;</span>
            UnitsOnOrder <span class="token operator">=</span> unitsOnOrder<span class="token punctuation">;</span>
            ReorderLevel <span class="token operator">=</span> reorderLevel<span class="token punctuation">;</span>
            Discontinued <span class="token operator">=</span> discontinued<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token function">Product</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
        <span class="token preprocessor property">#<span class="token directive keyword">endregion</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="part-2-–-the-abstract-data-provider"><a href="#part-2-–-the-abstract-data-provider" aria-hidden="true" class="header-anchor">#</a> Part 2 – The Abstract Data Provider</h3><p>The data access layer of our application will be responsible for communicating with the database and passing data to and from our application. As part of the DAL strategy for our program, we will use Microsoft's Enterprise Library 5.0. Details for connecting to the database will be held in the web.config's <code>&lt;connectionstrings&gt;</code> node. In addition, we will use a base class for our DAL classes that will identify the database and perform common data mapping logic for reading data from the database.</p><p>The base class we will create in this step is named &quot;AbstractDataProvider&quot;. It will be both abstract and internal. It will also make use of generics to support mapping data to the CBOs. (This mapping of data to business entities is sometimes referred to as Hydration.)</p><ol><li>In the web site, open the web.config file and find the <code>&lt;connectionstrings&gt;</code> node. Edit this node to match the following code.</li></ol><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>connectionstrings</span> <span class="token attr-name">configsource</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>webConnectionStrings.config<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><ol start="2"><li>Right-click on the website and select &quot;Add New Item…&quot;. Select &quot;Web Configuration File&quot; and name the file &quot;webConnectionStrings.config&quot;.</li><li>Replace the entire contents of the &quot;webConnectionStrings.config&quot; file to contain the following XML code.</li></ol><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>connectionstrings</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>NorthwindEnhanced<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name">connectionstring</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Data Source=.;Initial Catalog=NorthwindExtended;Integrated Security=True<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name">providername</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>System.Data.SqlClient<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>connectionstrings</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="4"><li>In the NorthwindSystem project, create a folder called DAL. This will hold the various DAL classes for our system.</li><li>Create a new class in the DAL folder and name it AbstractDataProvider. Make sure it's defined as both internal and abstract.</li></ol><div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">namespace</span> NorthwindSystem<span class="token punctuation">.</span>DAL
<span class="token punctuation">{</span>
    <span class="token keyword">internal</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbstractDataProvider</span>
    <span class="token punctuation">{</span>
    <span class="token punctuation">}</span> <span class="token comment">// end of class</span>
<span class="token punctuation">}</span> <span class="token comment">// end of namespace</span>
</code></pre></div><ol start="6"><li>Import the following namespaces and modify the class name to declare it as a generic type.</li></ol><div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">using</span> System<span class="token punctuation">;</span>
<span class="token keyword">using</span> Microsoft<span class="token punctuation">.</span>Practices<span class="token punctuation">.</span>EnterpriseLibrary<span class="token punctuation">.</span>Data<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">.</span>Data<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic<span class="token punctuation">;</span>
<span class="token keyword">namespace</span> NorthwindSystem<span class="token punctuation">.</span>DAL
<span class="token punctuation">{</span>
    <span class="token keyword">internal</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbstractDataProvider</span><span class="token operator">&lt;</span>t<span class="token operator">&gt;</span>
    <span class="token punctuation">{</span>
    <span class="token punctuation">}</span> <span class="token comment">// end of class</span>
<span class="token punctuation">}</span> <span class="token comment">// end of namespace</span>
</code></pre></div><ol start="7"><li>In the AbstractDataProvider class, add a constant to hold the name of the connection string setting in the web.config file. Also add a property to represent the database. Create a constructor that initializes the property with the settings pulled from the configuration file.</li></ol><div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token preprocessor property">#<span class="token directive keyword">region</span> Properties, Fields and Constants</span>
<span class="token keyword">private</span> <span class="token keyword">const</span> <span class="token keyword">string</span> CONNECTION_STRING_NAME <span class="token operator">=</span> <span class="token string">&quot;NorthwindExtended&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token class-name">Database</span> DataStore <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">private</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token preprocessor property">#<span class="token directive keyword">endregion</span></span>
<span class="token preprocessor property">#<span class="token directive keyword">region</span> Constructors</span>
<span class="token keyword">public</span> <span class="token function">AbstractDataProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    DataStore <span class="token operator">=</span> DatabaseFactory<span class="token punctuation">.</span><span class="token function">CreateDatabase</span><span class="token punctuation">(</span>CONNECTION_STRING_NAME<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">// end of Constructor</span>
<span class="token preprocessor property">#<span class="token directive keyword">endregion</span></span>
</code></pre></div><ol start="8"><li>Add an abstract method for mapping the database data to the business entities. This method will be overridden in later classes to provide the specific logic for mapping data from individual tables.</li></ol><div class="language-csharp extra-class"><pre class="language-csharp"><code>    <span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token class-name">T</span> <span class="token function">Hydrate</span><span class="token punctuation">(</span><span class="token class-name">IDataReader</span> dataReader<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="9"><li>Add a method for creating a single CBO. This method will be responsible for validating the data reader (making sure it is not null) and ensuring that it is properly closed (disposed of). The details of extracting the data and hydrating the business entity will be dealt with by the Hydrate() method.</li></ol><div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">protected</span> <span class="token class-name">T</span> <span class="token function">FillObject</span><span class="token punctuation">(</span><span class="token class-name">IDataReader</span> reader<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>reader <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ArgumentNullException</span><span class="token punctuation">(</span><span class="token string">&quot;reader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;reader is null.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">T</span> result <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> <span class="token punctuation">(</span>reader<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>reader<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            result <span class="token operator">=</span> <span class="token function">Hydrate</span><span class="token punctuation">(</span>reader<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="10"><li>Add a method for creating a list of CBOs. This method will validate the data reader and ensure it is properly closed. Once again, the details of hydrating the business entity will be handled by the Hydrate() method.</li></ol><div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">protected</span> List<span class="token operator">&lt;</span>t<span class="token operator">&gt;</span> <span class="token function">FillList</span><span class="token punctuation">(</span><span class="token class-name">IDataReader</span> reader<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>reader <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ArgumentNullException</span><span class="token punctuation">(</span><span class="token string">&quot;reader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;reader is null.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    List<span class="token operator">&lt;</span>t<span class="token operator">&gt;</span> infoList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token generic-method"><span class="token function">List</span><span class="token punctuation">&lt;</span>t<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>reader<span class="token punctuation">.</span>IsClosed<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">using</span> <span class="token punctuation">(</span>reader<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>reader<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                infoList<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token function">Hydrate</span><span class="token punctuation">(</span>reader<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> infoList<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="part-3-–-extensions-for-idatareader"><a href="#part-3-–-extensions-for-idatareader" aria-hidden="true" class="header-anchor">#</a> Part 3 – Extensions for IDataReader</h3><p>One of the big issues surrounding Data Access Layer code is the question of how to deal with translating null values from the database into our custom business objects. A number of strategies have been proposed in the past, but with the presence of Extension Methods since C# 3.0 and Generics , there is a quick and light-weight solution: Add new methods to the IDataReader interface.</p><ol><li>Create a new folder inside of the DAL folder of the NorthwindSystem project. Give it the name &quot;Extensions&quot;.</li><li>Right-click on the Extensions folder and select AddClass… . Name the class &quot;DataReaderExtensions&quot;. Then, modify the code to match the following.</li></ol><div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">using</span> System<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">.</span>Linq<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">.</span>Text<span class="token punctuation">;</span>
<span class="token keyword">namespace</span> System<span class="token punctuation">.</span>Data
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">DataReaderExtensions</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> T <span class="token generic-method"><span class="token function">GetValue</span><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span> </span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">IDataReader</span> reader<span class="token punctuation">,</span> <span class="token keyword">string</span> columnName<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name">T</span> <span class="token keyword">value</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> index <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">GetOrdinal</span><span class="token punctuation">(</span>columnName<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>reader<span class="token punctuation">.</span><span class="token function">IsDBNull</span><span class="token punctuation">(</span>columnName<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">value</span> <span class="token operator">=</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">(</span>reader<span class="token punctuation">.</span><span class="token function">GetValue</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">value</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">bool</span> <span class="token function">IsDBNull</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">IDataReader</span> reader<span class="token punctuation">,</span> <span class="token keyword">string</span> columnName<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">int</span> index <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">GetOrdinal</span><span class="token punctuation">(</span>columnName<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> reader<span class="token punctuation">.</span><span class="token function">IsDBNull</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>These two methods (<code>GetValue&lt;T&gt;</code> and <code>IsDBNull</code>) will be used extensively in the various Data Provider classes used in this tutorial. Note that we are using the namespace of System.Data; this is to make sure that any code which uses the IDataReader (also in the System.Data namespace) will have access to these extensions.</p><h3 id="part-4-–-mapping-the-data"><a href="#part-4-–-mapping-the-data" aria-hidden="true" class="header-anchor">#</a> Part 4 – Mapping the Data</h3><p>This part of the tutorial focuses on creating the initial DAL classes for each table in the database.</p><ol><li>Create new class in the DAL folder of the NorthwindSystem project. Give it the name CategoryProvider. Import the System.Collections.Generic, System.Data, and NortwindEntities namespaces, as these will be needed in our class.</li></ol><div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">using</span> System<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">.</span>Data<span class="token punctuation">;</span>
<span class="token keyword">using</span> NorthwindEntities<span class="token punctuation">;</span>
<span class="token keyword">namespace</span> NorthwindSystem<span class="token punctuation">.</span>DAL
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CategoryProvider</span>
    <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>Ensure that CategoryProvider inherits from the AbstractDataProvider and that it specifies the Category class as the specific type that will be mapped. Because the AbstractDataProvider is declared as internal, the CategoryProvider class must also be declared as internal.</li></ol><div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">using</span> System<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">.</span>Data<span class="token punctuation">;</span>
<span class="token keyword">using</span> NorthwindEntities<span class="token punctuation">;</span>
<span class="token keyword">namespace</span> NorthwindSystem<span class="token punctuation">.</span>DAL
<span class="token punctuation">{</span>
    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">CategoryProvider</span> <span class="token punctuation">:</span> <span class="token class-name">AbstractDataProvider</span><span class="token operator">&lt;</span>category<span class="token operator">&gt;</span>
    <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>Write a method in the CategoryProvider class to implement the abstract Hydrate() method from the base class. This method is concerned with mapping a single row of data from the Categories table to the Category CBO class.</li></ol><div class="language-csharp extra-class"><pre class="language-csharp"><code>    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token class-name">Category</span> <span class="token function">Hydrate</span><span class="token punctuation">(</span><span class="token class-name">IDataReader</span> reader<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
</code></pre></div><ol start="4"><li>Create an instance of the Category class; then extract data from the data reader into each property of the new Category object. We will use our extension methods to handle both the null values (of the Description and Picture columns) and the data conversions when translating values from the database into our C#-specific data types. Also, notice that the Picture column of the table (whose data type is Image) is being represented as an array of bytes in the Category class. At the end of the method, return the hydrated Category object.</li></ol><div class="language-csharp extra-class"><pre class="language-csharp"><code>    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token class-name">Category</span> <span class="token function">Hydrate</span><span class="token punctuation">(</span><span class="token class-name">IDataReader</span> reader<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">Category</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Category</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span>CategoryID <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetValue</span><span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;CategoryID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span>CategoryName <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetValue</span><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;CategoryName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span>Description <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetValue</span><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;Description&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span>Picture <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetValue</span><span class="token punctuation">&lt;</span><span class="token keyword">byte</span>[]<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;Picture&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><ol start="5"><li>Repeat the above steps for the Product class and Products table. Notice that for the nullable columns in the data reader, a nullable type is used in the generic extension method, GetValue(), for data types that map to C# value types.</li></ol><div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token keyword">using</span> System<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic<span class="token punctuation">;</span>
<span class="token keyword">using</span> System<span class="token punctuation">.</span>Data<span class="token punctuation">;</span>
<span class="token keyword">using</span> NorthwindEntities<span class="token punctuation">;</span>
<span class="token keyword">namespace</span> NorthwindSystem<span class="token punctuation">.</span>DAL
<span class="token punctuation">{</span>
    <span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">ProductProvider</span> <span class="token punctuation">:</span> <span class="token class-name">AbstractDataProvider</span><span class="token operator">&lt;</span>product<span class="token operator">&gt;</span>
    <span class="token punctuation">{</span>
        <span class="token preprocessor property">#<span class="token directive keyword">region</span> Business Entity Hydration</span>
        <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token class-name">Product</span> <span class="token function">Hydrate</span><span class="token punctuation">(</span><span class="token class-name">IDataReader</span> dataReader<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name">Product</span> info <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Product</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            info<span class="token punctuation">.</span>ProductID <span class="token operator">=</span> dataReader<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetValue</span><span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;ProductID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            info<span class="token punctuation">.</span>ProductName <span class="token operator">=</span> dataReader<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetValue</span><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;ProductName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            info<span class="token punctuation">.</span>SupplierID <span class="token operator">=</span> dataReader<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetValue</span><span class="token punctuation">&lt;</span><span class="token keyword">int</span>?<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;SupplierID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            info<span class="token punctuation">.</span>CategoryID <span class="token operator">=</span> dataReader<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetValue</span><span class="token punctuation">&lt;</span><span class="token keyword">int</span>?<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;CategoryID&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            info<span class="token punctuation">.</span>QuantityPerUnit <span class="token operator">=</span> dataReader<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetValue</span><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;QuantityPerUnit&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            info<span class="token punctuation">.</span>UnitPrice <span class="token operator">=</span> dataReader<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetValue</span><span class="token punctuation">&lt;</span><span class="token keyword">decimal</span>?<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;UnitPrice&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            info<span class="token punctuation">.</span>UnitsInStock <span class="token operator">=</span> dataReader<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetValue</span><span class="token punctuation">&lt;</span><span class="token keyword">short</span>?<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;UnitsInStock&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            info<span class="token punctuation">.</span>UnitsOnOrder <span class="token operator">=</span> dataReader<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetValue</span><span class="token punctuation">&lt;</span><span class="token keyword">short</span>?<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;UnitsOnOrder&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            info<span class="token punctuation">.</span>ReorderLevel <span class="token operator">=</span> dataReader<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetValue</span><span class="token punctuation">&lt;</span><span class="token keyword">short</span>?<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;ReorderLevel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            info<span class="token punctuation">.</span>Discontinued <span class="token operator">=</span> dataReader<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetValue</span><span class="token punctuation">&lt;</span><span class="token keyword">bool</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;Discontinued&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> info<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token comment">// end of Hydrate()</span>
        <span class="token preprocessor property">#<span class="token directive keyword">endregion</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="on-your-own"><a href="#on-your-own" aria-hidden="true" class="header-anchor">#</a> On Your Own</h3><p>Try creating your own classes to map data from the Suppliers table into your application. Create a CBO class called &quot;Supplier&quot; and a DAL class called &quot;SupplierProvider&quot; using the patterns and techniques shown above.</p><p>Also, for the Supplier CBO, add some read-only properties to &quot;break apart&quot; the HomePage information. The HomePage data of the Suppliers table stores up to four pieces of information, separated by the hash or pound symbol (#), in the following format:</p><p><code>displayText#address#subAddress#screentip</code></p><p>Hint: Use the string's <code>.Split()</code> method to break the HomePage into it's parts.E.g.:</p><div class="language-csharp extra-class"><pre class="language-csharp"><code>    <span class="token keyword">public</span> <span class="token keyword">string</span> DisplayText
    <span class="token punctuation">{</span>
        <span class="token keyword">get</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">string</span> temp <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">IsNullOrEmpty</span><span class="token punctuation">(</span>HomePage<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> Parts <span class="token operator">=</span> HomePage<span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span><span class="token string">'#'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>Parts<span class="token punctuation">.</span>Length <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">)</span>
                    temp <span class="token operator">=</span> Parts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> temp<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><h3 id="summary"><a href="#summary" aria-hidden="true" class="header-anchor">#</a> Summary</h3><p>In this hands-on tutorial, you created the mapping component of the application. This mapping allows the database information to be represented and used in the application. A one-to-one mapping strategy has been employed which maps a single Custom Business Object (class) for each database table. While this tutorial walked through the specifics of mapping the Categories and Products tables of Northwind, the same techniques can be applied to the remaining tables.</p><p>At the foundation of the mapping strategy is a single abstract class acting as the basis for all other classes in the DAL.</p><h4 id="discussion-points"><a href="#discussion-points" aria-hidden="true" class="header-anchor">#</a> Discussion Points</h4><p>The following questions are designed to help you review key aspects of this tutorial.</p><ol><li>What is meant by the term &quot;hydrate&quot;?</li><li>Why are database null values somewhat problematic in computer programs?</li><li>What is the role of the <code>&lt;connectionstrings&gt;</code> node in the web.config file?</li></ol><h4 id="creating-custom-business-objects"><a href="#creating-custom-business-objects" aria-hidden="true" class="header-anchor">#</a> Creating Custom Business Objects</h4><ul><li>POCO – Plain Old CLR Objects vs Rich Business Objects</li><li>Choosing a starting point
<ul><li>Database Driven Design</li><li>Behaviour Driven Design</li></ul></li></ul><h4 id="mapping-cbo-to-database-tables"><a href="#mapping-cbo-to-database-tables" aria-hidden="true" class="header-anchor">#</a> Mapping CBO to Database Tables</h4><p>In this tutorial, we designed our Custom Business Objects based upon the Database Tables, and coded the DAL provider classes to map to columns that have the same name as the database tables. In truth, the mapping that happens in the DAL provider classes is going to be heavily dependent on the stored procedures (SProcs) in the database. In other words, this mapping will only work if the stored procedures for reading from the database use the following pattern. Stored procedures for SELECT-ing rows must:</p><ul><li>Return all (and only) the columns for a single database table</li><li>Use column names (headings) that are identical to the column names on the database table</li></ul><p>Any variation from this pattern will require customizations to provider class' the Hydrate and FillObject/FillList methods.</p><h4 id="the-problem-of-database-nulls"><a href="#the-problem-of-database-nulls" aria-hidden="true" class="header-anchor">#</a> The Problem of Database Nulls</h4><p>Note that many of the columns in the database table allow null values. Our business entities must also support null values for their corresponding properties. With string data, this is not an issue because a string (as a reference type) can be assigned a null value. However, primitive types such as numbers and dates are value types in C# (and VB.NET); by definition, value types on their own cannot have a null value.</p><p>In .NET 2.0, however, a class named <code>Nullable&lt;t&gt;</code> was introduced to act as a &quot;wrapper&quot; for value types that would allow null values. Thus, it is possible to declare a variable as a nullable integer with the following code.</p><div class="language-csharp extra-class"><pre class="language-csharp"><code>    Nullable<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> age<span class="token punctuation">;</span>
</code></pre></div><p>In C#, a shorthand way of writing the same code was made available by appending a question mark (?) to the value type. The above line of code could then be written as follows.</p><div class="language-csharp extra-class"><pre class="language-csharp"><code>    <span class="token keyword">int</span><span class="token operator">?</span> age<span class="token punctuation">;</span>
</code></pre></div></div><div class="page-edit"><!----><!----></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/webforms/asp-controls-intro.html" class="prev">
          Programming with ASP.NET Controls
        </a></span><!----></p></div></div></div></div>
    <script src="/assets/js/80.2c3e6c55.js" defer></script><script src="/assets/js/app.35b7d3fb.js" defer></script>
  </body>
</html>
